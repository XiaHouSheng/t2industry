const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/components-Cee0kNJq.js","assets/vendor-CM7a-LQt.js","assets/vendor-BjA7BFNH.css","assets/stores-vl3U_HQy.js","assets/components-C-O9VEZu.css"])))=>i.map(i=>d[i]);
import{u as w,c as M}from"./stores-vl3U_HQy.js";import{s as v,u as C,t as z}from"./components-Cee0kNJq.js";import{aa as m,ac as u,i as q,a4 as E,p as k}from"./vendor-CM7a-LQt.js";import{_ as g}from"./routers-Du_Ah0G_.js";class P{constructor(t="https://api.t2blueprint.xyz"){this.baseUrl=t,this.token=null}setToken(t){this.token=t}getHeaders(){const t={"Content-Type":"application/json"};return this.token&&(t.Authorization=`Bearer ${this.token}`),t}async handleResponse(t){const e=await t.json();if(!t.ok)throw new Error(e.message||"请求失败");return e}async get(t,e={}){const o=new URLSearchParams(e).toString(),r=`${this.baseUrl}${t}${o?`?${o}`:""}`,s=await fetch(r,{method:"GET",headers:this.getHeaders()});return this.handleResponse(s)}async post(t,e={}){const o=`${this.baseUrl}${t}`,r=await fetch(o,{method:"POST",headers:this.getHeaders(),body:JSON.stringify(e)});return this.handleResponse(r)}async postFile(t,e){const o=`${this.baseUrl}${t}`,r={};this.token&&(r.Authorization=`Bearer ${this.token}`);const s=await fetch(o,{method:"POST",headers:r,body:e});return this.handleResponse(s)}async put(t,e={}){const o=`${this.baseUrl}${t}`,r=await fetch(o,{method:"PUT",headers:this.getHeaders(),body:JSON.stringify(e)});return this.handleResponse(r)}async delete(t){const e=`${this.baseUrl}${t}`,o=await fetch(e,{method:"DELETE",headers:this.getHeaders()});return this.handleResponse(o)}async downloadFile(t){const e=`${this.baseUrl}${t}`,o=await fetch(e,{method:"GET"});if(!o.ok)throw new Error("下载失败");return await o.blob()}async getBlueprints(t={}){return this.get("/api/efs/v1/blueprints",t)}async createBlueprint(t){return this.post("/api/efs/v1/blueprints",t)}async getBlueprintById(t){return this.get(`/api/efs/v1/blueprints/${t}`)}async updateBlueprint(t,e){return this.put(`/api/efs/v1/blueprints/${t}`,e)}async deleteBlueprint(t){return this.delete(`/api/efs/v1/blueprints/${t}`)}async uploadBlueprint(t,e){const o=new FormData;return o.append("blueprintFile",e),o.append("id",t),this.postFile("/api/efs/v1/blueprints/upload",o)}async downloadBlueprint(t){return this.downloadFile(`/download/${t}`)}async searchBlueprints(t={}){return this.get("/api/efs/v1/blueprints/search",t)}async getHomepageData(){return this.get("/api/efs/v1/blueprints/homepage")}async getUserBlueprints(t={}){return this.get("/api/efs/v1/blueprints/self",t)}async login(t){return this.post("/api/efs/v1/user/login",t)}async sendVerificationCode(t){return this.post("/api/efs/v1/user/send-verification-code",t)}async register(t){const{role:e,...o}=t;return this.post("/api/efs/v1/user/register",o)}async getUserInfo(){return this.get("/api/efs/v1/user/info")}async validateToken(){return this.get("/api/efs/v1/user/validate")}async getMachines(t={}){return this.get("/api/efs/v1/data/machines",t)}async getRecipes(t={}){return this.get("/api/efs/v1/data/recipes",t)}async getMaterials(){return this.get("/api/efs/v1/data/materials")}}const Nr=new P,B={plant_moss_seed_1:{time:2,in:{plant_moss_1:1},out:{plant_moss_seed_1:2},producers:["seedcol_1"],id:"plant_moss_seed_1",name:"荞花种子",category:"material",row:0,icon:"plant_moss_seed_1"},plant_moss_seed_3:{time:2,in:{plant_moss_3:1},out:{plant_moss_seed_3:2},producers:["seedcol_1"],id:"plant_moss_seed_3",name:"砂叶种子",category:"material",row:0,icon:"plant_moss_seed_3"},plant_grass_seed_1:{time:2,in:{plant_grass_1:1},out:{plant_grass_seed_1:1},producers:["seedcol_1"],id:"plant_grass_seed_1",name:"锦草种子",category:"material",row:0,icon:"plant_grass_seed_1"},plant_moss_seed_2:{time:2,in:{plant_moss_2:1},out:{plant_moss_seed_2:2},producers:["seedcol_1"],id:"plant_moss_seed_2",name:"柑实种子",category:"material",row:1,icon:"plant_moss_seed_2"},plant_bbflower_seed_1:{time:2,in:{plant_bbflower_1:1},out:{plant_bbflower_seed_1:2},producers:["seedcol_1"],id:"plant_bbflower_seed_1",name:"酮化树种",category:"material",row:1,icon:"plant_bbflower_seed_1"},plant_grass_seed_2:{time:2,in:{plant_grass_2:1},out:{plant_grass_seed_2:1},producers:["seedcol_1"],id:"plant_grass_seed_2",name:"芽针种子",category:"material",row:1,icon:"plant_grass_seed_2"}},D={plant_moss_1:{time:2,in:{plant_moss_seed_1:1},out:{plant_moss_1:1},producers:["planter_1"],id:"plant_moss_1",name:"荞花",category:"material",row:0,icon:"plant_moss_1"},plant_moss_3:{time:2,in:{plant_moss_seed_3:1},out:{plant_moss_3:1},producers:["planter_1"],id:"plant_moss_3",name:"砂叶",category:"material",row:0,icon:"plant_moss_3"},plant_grass_1:{time:2,in:{plant_grass_seed_1:1,liquid_water:1},out:{plant_grass_1:2},producers:["planter_1"],locations:["jinlong"],id:"plant_grass_1",name:"锦草",category:"material",row:0,icon:"plant_grass_1"},plant_moss_2:{time:2,in:{plant_moss_seed_2:1},out:{plant_moss_2:1},producers:["planter_1"],id:"plant_moss_2",name:"柑实",category:"material",row:1,icon:"plant_moss_2"},plant_bbflower_1:{time:2,in:{plant_bbflower_seed_1:1},out:{plant_bbflower_1:1},producers:["planter_1"],id:"plant_bbflower_1",name:"酮化灌木",category:"material",row:1,icon:"plant_bbflower_1"},plant_grass_2:{time:2,in:{plant_grass_seed_2:1,liquid_water:1},out:{plant_grass_2:2},producers:["planter_1"],locations:["jinlong"],id:"plant_grass_2",name:"芽针",category:"material",row:1,icon:"plant_grass_2"}},R={plant_moss_powder_1:{time:2,in:{plant_moss_1:1},out:{plant_moss_powder_1:2},producers:["grinder_1"],id:"plant_moss_powder_1",name:"荞花粉末",category:"material",row:0,icon:"plant_moss_powder_1"},plant_moss_powder_3:{time:2,in:{plant_moss_3:1},out:{plant_moss_powder_3:3},producers:["grinder_1"],id:"plant_moss_powder_3",name:"砂叶粉末",category:"material",row:0,icon:"plant_moss_powder_3"},plant_grass_powder_1:{time:2,in:{plant_grass_1:1},out:{plant_grass_powder_1:2},producers:["grinder_1"],id:"plant_grass_powder_1",name:"锦草粉末",category:"material",row:0,icon:"plant_grass_powder_1"},carbon_powder:{time:2,in:{carbon_mtl:1},out:{carbon_powder:2},producers:["grinder_1"],id:"carbon_powder",name:"碳粉末",category:"material",row:0,icon:"carbon_powder"},plant_moss_powder_2:{time:2,in:{plant_moss_2:1},out:{plant_moss_powder_2:2},producers:["grinder_1"],id:"plant_moss_powder_2",name:"柑实粉末",category:"material",row:1,icon:"plant_moss_powder_2"},plant_bbflower_powder_1:{time:2,in:{plant_bbflower_1:1},out:{plant_bbflower_powder_1:1},producers:["grinder_1"],id:"plant_bbflower_powder_1",name:"酮化灌木粉末",category:"material",row:1,icon:"plant_bbflower_powder_1"},plant_grass_powder_2:{time:2,in:{plant_grass_2:1},out:{plant_grass_powder_2:2},producers:["grinder_1"],id:"plant_grass_powder_2",name:"芽针粉末",category:"material",row:1,icon:"plant_grass_powder_2"},crystal_powder:{time:2,in:{crystal_shell:1},out:{crystal_powder:1},producers:["grinder_1"],id:"crystal_powder",name:"晶体外壳粉末",category:"material",row:2,icon:"crystal_powder"},originium_powder:{time:2,in:{originium_ore:1},out:{originium_powder:1},producers:["grinder_1"],id:"originium_powder",name:"源石粉末",category:"material",row:2,icon:"originium_powder"},quartz_powder:{time:2,in:{quartz_glass:1},out:{quartz_powder:1},producers:["grinder_1"],id:"quartz_powder",name:"紫晶粉末",category:"material",row:3,icon:"quartz_powder"},iron_powder:{time:2,in:{iron_nugget:1},out:{iron_powder:1},producers:["grinder_1"],id:"iron_powder",name:"蓝铁粉末",category:"material",row:4,icon:"iron_powder"}},L={plant_moss_enr_powder_1:{time:2,in:{plant_moss_powder_1:2,plant_moss_powder_3:1},out:{plant_moss_enr_powder_1:1},producers:["thickener_1"],id:"plant_moss_enr_powder_1",name:"细磨荞花粉末",category:"material",row:0,icon:"plant_moss_enr_powder_1"},plant_moss_enr_powder_2:{time:2,in:{plant_moss_powder_2:2,plant_moss_powder_3:1},out:{plant_moss_enr_powder_2:1},producers:["thickener_1"],id:"plant_moss_enr_powder_2",name:"细磨柑实粉末",category:"material",row:1,icon:"plant_moss_enr_powder_2"},carbon_enr_powder:{time:2,in:{carbon_powder:2,plant_moss_powder_3:1},out:{carbon_enr_powder:1},producers:["thickener_1"],id:"carbon_enr_powder",name:"致密碳粉末",category:"material",row:1,icon:"carbon_enr_powder"},"crystal_enr_powder-crystal_powder":{time:2,in:{crystal_powder:2,plant_moss_powder_3:1},out:{crystal_enr_powder:1},producers:["thickener_1"],id:"crystal_enr_powder-crystal_powder",name:"致密晶体粉末(晶体外壳粉末)",category:"material",row:2,icon:"crystal_enr_powder-crystal_powder"},originium_enr_powder:{time:2,in:{originium_powder:2,plant_moss_powder_3:1},out:{originium_enr_powder:1},producers:["thickener_1"],id:"originium_enr_powder",name:"致密源石粉末",category:"material",row:2,icon:"originium_enr_powder"},quartz_enr_powder:{time:2,in:{quartz_powder:2,plant_moss_powder_3:1},out:{quartz_enr_powder:1},producers:["thickener_1"],id:"quartz_enr_powder",name:"高晶粉末",category:"material",row:3,icon:"quartz_enr_powder"},iron_enr_powder:{time:2,in:{iron_powder:2,plant_moss_powder_3:1},out:{iron_enr_powder:1},producers:["thickener_1"],id:"iron_enr_powder",name:"致密蓝铁粉末",category:"material",row:4,icon:"iron_enr_powder"}},I={liquid_plant_grass_1:{time:2,in:{plant_grass_powder_1:1,liquid_water:1},out:{liquid_plant_grass_1:1},producers:["mix_pool_1"],id:"liquid_plant_grass_1",name:"锦草溶液",category:"material",row:0,icon:"liquid_plant_grass_1"},liquid_plant_grass_2:{time:2,in:{plant_grass_powder_2:1,liquid_water:1},out:{liquid_plant_grass_2:1},producers:["mix_pool_1"],id:"liquid_plant_grass_2",name:"芽针溶液",category:"material",row:1,icon:"liquid_plant_grass_2"},liquid_xiranite:{time:2,in:{xiranite_powder:1,liquid_water:1},out:{liquid_xiranite:1},producers:["mix_pool_1"],id:"liquid_xiranite",name:"液化息壤",category:"material",row:5,icon:"liquid_xiranite"}},j={"carbon_mtl-plant_moss_1":{time:2,in:{plant_moss_1:1},out:{carbon_mtl:1},producers:["furnance_1"],id:"carbon_mtl-plant_moss_1",name:"碳块(荞花)",category:"material",row:0,icon:"carbon_mtl-plant_moss_1"},"carbon_mtl-plant_moss_2":{time:2,in:{plant_moss_2:1},out:{carbon_mtl:1},producers:["furnance_1"],id:"carbon_mtl-plant_moss_2",name:"碳块(柑实)",category:"material",row:0,icon:"carbon_mtl-plant_moss_2"},"carbon_mtl-plant_moss_3":{time:2,in:{plant_moss_3:1},out:{carbon_mtl:1},producers:["furnance_1"],id:"carbon_mtl-plant_moss_3",name:"碳块(砂叶)",category:"material",row:0,icon:"carbon_mtl-plant_moss_3"},"carbon_mtl-plant_grass_1":{time:2,in:{plant_grass_1:1},out:{carbon_mtl:2},producers:["furnance_1"],id:"carbon_mtl-plant_grass_1",name:"碳块(锦草)",category:"material",row:0,icon:"carbon_mtl-plant_grass_1"},"carbon_mtl-plant_grass_2":{time:2,in:{plant_grass_2:1},out:{carbon_mtl:2},producers:["furnance_1"],id:"carbon_mtl-plant_grass_2",name:"碳块(芽针)",category:"material",row:0,icon:"carbon_mtl-plant_grass_2"},carbon_enr:{time:2,in:{carbon_enr_powder:1},out:{carbon_enr:1},producers:["furnance_1"],id:"carbon_enr",name:"稳定碳块",category:"material",row:1,icon:"carbon_enr"},crystal_shell:{time:2,in:{originium_ore:1},out:{crystal_shell:1},producers:["furnance_1"],id:"crystal_shell",name:"晶体外壳",category:"material",row:2,icon:"crystal_shell"},crystal_enr:{time:2,in:{crystal_enr_powder:1},out:{crystal_enr:1},producers:["furnance_1"],id:"crystal_enr",name:"密制晶体",category:"material",row:2,icon:"crystal_enr"},"crystal_enr_powder-originium_enr_powder":{time:2,in:{originium_enr_powder:1},out:{crystal_enr_powder:1},producers:["furnance_1"],id:"crystal_enr_powder-originium_enr_powder",name:"致密晶体粉末(致密源石粉末)",category:"material",row:2,icon:"crystal_enr_powder-originium_enr_powder"},quartz_glass:{time:2,in:{quartz_sand:1},out:{quartz_glass:1},producers:["furnance_1"],id:"quartz_glass",name:"紫晶纤维",category:"material",row:3,icon:"quartz_glass"},quartz_enr:{time:2,in:{quartz_enr_powder:1},out:{quartz_enr:1},producers:["furnance_1"],id:"quartz_enr",name:"高晶纤维",category:"material",row:3,icon:"quartz_enr"},iron_nugget:{time:2,in:{iron_ore:1},out:{iron_nugget:1},producers:["furnance_1"],id:"iron_nugget",name:"蓝铁块",category:"material",row:4,icon:"iron_nugget"},iron_enr:{time:2,in:{iron_enr_powder:1},out:{iron_enr:1},producers:["furnance_1"],id:"iron_enr",name:"钢块",category:"material",row:4,icon:"iron_enr"}},T={originium_ore:{time:3,in:{},out:{originium_ore:1},producers:["miner_2","miner_3"],flags:["mining"],id:"originium_ore",name:"源矿",category:"material",row:2,icon:"originium_ore"},quartz_sand:{time:3,in:{},out:{quartz_sand:1},producers:["miner_2","miner_3"],flags:["mining"],id:"quartz_sand",name:"紫晶矿",category:"material",row:3,icon:"quartz_sand"}},O={glass_bottle:{time:2,in:{quartz_glass:2},out:{glass_bottle:1},producers:["shaper_1"],id:"glass_bottle",name:"紫晶质瓶",category:"material",row:3,icon:"glass_bottle"},glass_enr_bottle:{time:2,in:{quartz_enr:2},out:{glass_enr_bottle:1},producers:["shaper_1"],id:"glass_enr_bottle",name:"高晶质瓶",category:"material",row:3,icon:"glass_enr_bottle"},iron_bottle:{time:2,in:{iron_nugget:2},out:{iron_bottle:1},producers:["shaper_1"],id:"iron_bottle",name:"蓝铁瓶",category:"material",row:4,icon:"iron_bottle"},iron_enr_bottle:{time:2,in:{iron_enr:2},out:{iron_enr_bottle:1},producers:["shaper_1"],id:"iron_enr_bottle",name:"钢质瓶",category:"material",row:4,icon:"iron_enr_bottle"}},X={glass_cmpt:{time:2,in:{quartz_glass:1},out:{glass_cmpt:1},producers:["cmpt_mc_1"],id:"glass_cmpt",name:"紫晶零件",category:"material",row:3,icon:"glass_cmpt"},glass_enr_cmpt:{time:2,in:{quartz_enr:1},out:{glass_enr_cmpt:1},producers:["cmpt_mc_1"],id:"glass_enr_cmpt",name:"高晶零件",category:"material",row:3,icon:"glass_enr_cmpt"},iron_cmpt:{time:2,in:{iron_nugget:1},out:{iron_cmpt:1},producers:["cmpt_mc_1"],id:"iron_cmpt",name:"铁制零件",category:"material",row:4,icon:"iron_cmpt"},iron_enr_cmpt:{time:2,in:{iron_enr:1},out:{iron_enr_cmpt:1},producers:["cmpt_mc_1"],id:"iron_enr_cmpt",name:"钢制零件",category:"material",row:4,icon:"iron_enr_cmpt"}},Y={iron_ore:{time:3,in:{},out:{iron_ore:1},producers:["miner_3"],flags:["mining"],id:"iron_ore",name:"蓝铁矿",category:"material",row:4,icon:"iron_ore"}},A={"iron_bottle-liquid_water":{time:2,in:{iron_bottle:1,liquid_water:1},out:{"iron_bottle-liquid_water":1},producers:["filling_pd_mc_1"],locations:["jinlong"],id:"iron_bottle-liquid_water",name:"蓝铁瓶(清水)",category:"material",row:4,icon:"iron_bottle-liquid_water"},"iron_bottle-liquid_plant_grass_1":{time:2,in:{iron_bottle:1,liquid_plant_grass_1:1},out:{"iron_bottle-liquid_plant_grass_1":1},producers:["filling_pd_mc_1"],locations:["jinlong"],id:"iron_bottle-liquid_plant_grass_1",name:"蓝铁瓶(锦草溶液)",category:"material",row:4,icon:"iron_bottle-liquid_plant_grass_1"},"iron_bottle-liquid_plant_grass_2":{time:2,in:{iron_bottle:1,liquid_plant_grass_2:1},out:{"iron_bottle-liquid_plant_grass_2":1},producers:["filling_pd_mc_1"],locations:["jinlong"],id:"iron_bottle-liquid_plant_grass_2",name:"蓝铁瓶(芽针溶液)",category:"material",row:4,icon:"iron_bottle-liquid_plant_grass_2"},bottled_food_1:{time:10,in:{glass_bottle:5,plant_moss_powder_2:5},out:{bottled_food_1:1},producers:["filling_pd_mc_1"],id:"bottled_food_1",name:"柑实罐头",category:"product",row:0,icon:"bottled_food_1"},bottled_food_2:{time:10,in:{iron_bottle:10,plant_moss_powder_2:10},out:{bottled_food_2:1},producers:["filling_pd_mc_1"],id:"bottled_food_2",name:"优质柑实罐头",category:"product",row:0,icon:"bottled_food_2"},bottled_food_3:{time:10,in:{iron_enr_bottle:10,plant_moss_enr_powder_2:10},out:{bottled_food_3:1},producers:["filling_pd_mc_1"],id:"bottled_food_3",name:"精选柑实罐头",category:"product",row:0,icon:"bottled_food_3"},bottled_rec_hp_1:{time:10,in:{glass_bottle:5,plant_moss_powder_1:5},out:{bottled_rec_hp_1:1},producers:["filling_pd_mc_1"],id:"bottled_rec_hp_1",name:"荞愈胶囊",category:"product",row:1,icon:"bottled_rec_hp_1"},bottled_rec_hp_2:{time:10,in:{iron_bottle:10,plant_moss_powder_1:10},out:{bottled_rec_hp_2:1},producers:["filling_pd_mc_1"],id:"bottled_rec_hp_2",name:"优质荞愈胶囊",category:"product",row:1,icon:"bottled_rec_hp_2"},bottled_rec_hp_3:{time:10,in:{iron_enr_bottle:10,plant_moss_enr_powder_1:10},out:{bottled_rec_hp_3:1},producers:["filling_pd_mc_1"],id:"bottled_rec_hp_3",name:"精选荞愈胶囊",category:"product",row:1,icon:"bottled_rec_hp_3"}},N={"dismantler-iron_bottle-liquid_plant_grass_1":{time:2,in:{"iron_bottle-liquid_plant_grass_1":1},out:{iron_bottle:1,liquid_plant_grass_1:1},producers:["dismantler_1"],id:"dismantler-iron_bottle-liquid_plant_grass_1",name:"蓝铁瓶(锦草溶液)-拆解",category:"material",row:4,icon:"dismantler_1-liquid_plant_grass_1"},"dismantler-iron_bottle-liquid_plant_grass_2":{time:2,in:{"iron_bottle-liquid_plant_grass_2":1},out:{iron_bottle:1,liquid_plant_grass_2:1},producers:["dismantler_1"],id:"dismantler-iron_bottle-liquid_plant_grass_2",name:"蓝铁瓶(芽针溶液)-拆解",category:"material",row:4,icon:"dismantler_1-liquid_plant_grass_2"}},V={liquid_water:{time:1,in:{},out:{liquid_water:1},producers:["pump_1"],flags:["mining"],id:"liquid_water",name:"清水",category:"material",row:5,icon:"liquid_water"}},F={xiranite_powder:{time:2,in:{carbon_enr:2,liquid_water:1},out:{xiranite_powder:1},producers:["xiranite_oven_1"],id:"xiranite_powder",name:"息壤",category:"material",row:5,icon:"xiranite_powder"}},H={bottled_food_4:{time:10,in:{iron_cmpt:10,"iron_bottle-liquid_plant_grass_1":5},out:{bottled_food_4:1},producers:["tools_asm_mc_1"],locations:["jinlong"],id:"bottled_food_4",name:"锦草软饮",category:"product",row:0,icon:"bottled_food_4"},bottled_rec_hp_4:{time:10,in:{iron_cmpt:10,"iron_bottle-liquid_plant_grass_2":5},out:{bottled_rec_hp_4:1},producers:["tools_asm_mc_1"],locations:["jinlong"],id:"bottled_rec_hp_4",name:"芽针针剂",category:"product",row:1,icon:"bottled_rec_hp_4"},proc_battery_1:{time:10,in:{glass_cmpt:5,originium_powder:10},out:{proc_battery_1:1},producers:["tools_asm_mc_1"],id:"proc_battery_1",name:"低容谷地电池",category:"product",row:3,icon:"proc_battery_1"},proc_battery_2:{time:10,in:{iron_cmpt:10,originium_powder:15},out:{proc_battery_2:1},producers:["tools_asm_mc_1"],id:"proc_battery_2",name:"中容谷地电池",category:"product",row:3,icon:"proc_battery_2"},proc_battery_3:{time:10,in:{iron_enr_cmpt:10,originium_enr_powder:15},out:{proc_battery_3:1},producers:["tools_asm_mc_1"],id:"proc_battery_3",name:"高容谷地电池",category:"product",row:3,icon:"proc_battery_3"},proc_battery_4:{time:10,in:{xiranite_powder:5,originium_enr_powder:15},out:{proc_battery_4:1},producers:["tools_asm_mc_1"],id:"proc_battery_4",name:"低容武陵电池",category:"product",row:3,icon:"proc_battery_4"},proc_bomb_1:{time:10,in:{glass_cmpt:5,plant_bbflower_powder_1:1},out:{proc_bomb_1:1},producers:["tools_asm_mc_1"],id:"proc_bomb_1",name:"工业爆炸物",category:"product",row:4,icon:"proc_bomb_1"}},U={equip_script_1:{time:10,in:{crystal_shell:5,quartz_glass:5},out:{equip_script_1:1},producers:["winder_1"],id:"equip_script_1",name:"紫晶装备原件",category:"product",row:2,icon:"equip_script_1"},equip_script_2:{time:10,in:{crystal_shell:10,iron_nugget:10},out:{equip_script_2:1},producers:["winder_1"],id:"equip_script_2",name:"蓝铁装备原件",category:"product",row:2,icon:"equip_script_2"},equip_script_3:{time:10,in:{crystal_enr:10,quartz_enr:10},out:{equip_script_3:1},producers:["winder_1"],id:"equip_script_3",name:"高晶装备原件",category:"product",row:2,icon:"equip_script_3"},equip_script_4:{time:10,in:{crystal_enr:10,xiranite_powder:10},out:{equip_script_4:1},producers:["winder_1"],id:"equip_script_4",name:"息壤装备原件",category:"product",row:2,icon:"equip_script_4"}},K={power_originium_ore:{usage:-50,time:8,in:{originium_ore:1},out:{},producers:["power_sta_1"],id:"power_originium_ore",name:"发电(源矿)",category:"gen-power",row:0,icon:"power_sta_1-originium_ore"},power_proc_battery_1:{usage:-220,time:40,in:{proc_battery_1:1},out:{},producers:["power_sta_1"],id:"power_proc_battery_1",name:"发电(低容谷地电池)",category:"gen-power",row:1,icon:"power_sta_1-proc_battery_1"},power_proc_battery_2:{usage:-420,time:40,in:{proc_battery_2:1},out:{},producers:["power_sta_1"],id:"power_proc_battery_2",name:"发电(中容谷地电池)",category:"gen-power",row:1,icon:"power_sta_1-proc_battery_2"},power_proc_battery_3:{usage:-1100,time:40,in:{proc_battery_3:1},out:{},producers:["power_sta_1"],id:"power_proc_battery_3",name:"发电(高容谷地电池)",category:"gen-power",row:1,icon:"power_sta_1-proc_battery_3"},power_proc_battery_4:{usage:-1600,time:40,in:{proc_battery_4:1},out:{},producers:["power_sta_1"],id:"power_proc_battery_4",name:"发电(低容武陵电池)",category:"gen-power",row:1,icon:"power_sta_1-proc_battery_4"}},G={seedcol_1:B,planter_1:D,grinder_1:R,thickener_1:L,mix_pool_1:I,furnance_1:j,miner_2:T,shaper_1:O,cmpt_mc_1:X,miner_3:Y,filling_pd_mc_1:A,dismantler_1:N,pump_1:V,xiranite_oven_1:F,tools_asm_mc_1:H,winder_1:U,power_sta_1:K,"settlement-tundra_coupon":{"tundra_coupon-crystal_shell":{time:2,in:{crystal_shell:1},out:{tundra_coupon:1},producers:["settlement-tundra_coupon"],flags:["hideProducer"],id:"tundra_coupon-crystal_shell",name:"谷地调度券(晶体外壳)",category:"settlement",row:0,icon:"tundra_coupon-crystal_shell"},"tundra_coupon-glass_bottle":{time:2,in:{glass_bottle:1},out:{tundra_coupon:2},producers:["settlement-tundra_coupon"],flags:["hideProducer"],id:"tundra_coupon-glass_bottle",name:"谷地调度券(紫晶质瓶)",category:"settlement",row:0,icon:"tundra_coupon-glass_bottle"},"tundra_coupon-glass_cmpt":{time:2,in:{glass_cmpt:1},out:{tundra_coupon:1},producers:["settlement-tundra_coupon"],flags:["hideProducer"],id:"tundra_coupon-glass_cmpt",name:"谷地调度券(紫晶零件)",category:"settlement",row:0,icon:"tundra_coupon-glass_cmpt"},"tundra_coupon-iron_cmpt":{time:2,in:{iron_cmpt:1},out:{tundra_coupon:1},producers:["settlement-tundra_coupon"],flags:["hideProducer"],id:"tundra_coupon-iron_cmpt",name:"谷地调度券(铁制零件)",category:"settlement",row:0,icon:"tundra_coupon-iron_cmpt"},"tundra_coupon-iron_enr_cmpt":{time:2,in:{iron_enr_cmpt:1},out:{tundra_coupon:1},producers:["settlement-tundra_coupon"],flags:["hideProducer"],id:"tundra_coupon-iron_enr_cmpt",name:"谷地调度券(钢制零件)",category:"settlement",row:0,icon:"tundra_coupon-iron_enr_cmpt"},"tundra_coupon-bottled_food_1":{time:10,in:{bottled_food_1:1},out:{tundra_coupon:10},producers:["settlement-tundra_coupon"],flags:["hideProducer"],id:"tundra_coupon-bottled_food_1",name:"谷地调度券(柑实罐头)",category:"settlement",row:1,icon:"tundra_coupon-bottled_food_1"},"tundra_coupon-bottled_food_2":{time:10,in:{bottled_food_2:1},out:{tundra_coupon:27},producers:["settlement-tundra_coupon"],flags:["hideProducer"],id:"tundra_coupon-bottled_food_2",name:"谷地调度券(优质柑实罐头)",category:"settlement",row:1,icon:"tundra_coupon-bottled_food_2"},"tundra_coupon-bottled_food_3":{time:10,in:{bottled_food_3:1},out:{tundra_coupon:70},producers:["settlement-tundra_coupon"],flags:["hideProducer"],id:"tundra_coupon-bottled_food_3",name:"谷地调度券(精选柑实罐头)",category:"settlement",row:1,icon:"tundra_coupon-bottled_food_3"},"tundra_coupon-bottled_rec_hp_1":{time:10,in:{bottled_rec_hp_1:1},out:{tundra_coupon:10},producers:["settlement-tundra_coupon"],flags:["hideProducer"],id:"tundra_coupon-bottled_rec_hp_1",name:"谷地调度券(荞愈胶囊)",category:"settlement",row:2,icon:"tundra_coupon-bottled_rec_hp_1"},"tundra_coupon-bottled_rec_hp_2":{time:10,in:{bottled_rec_hp_2:1},out:{tundra_coupon:27},producers:["settlement-tundra_coupon"],flags:["hideProducer"],id:"tundra_coupon-bottled_rec_hp_2",name:"谷地调度券(优质荞愈胶囊)",category:"settlement",row:2,icon:"tundra_coupon-bottled_rec_hp_2"},"tundra_coupon-bottled_rec_hp_3":{time:10,in:{bottled_rec_hp_3:1},out:{tundra_coupon:70},producers:["settlement-tundra_coupon"],flags:["hideProducer"],id:"tundra_coupon-bottled_rec_hp_3",name:"谷地调度券(精选荞愈胶囊)",category:"settlement",row:2,icon:"tundra_coupon-bottled_rec_hp_3"},"tundra_coupon-proc_battery_1":{time:10,in:{proc_battery_1:1},out:{tundra_coupon:16},producers:["settlement-tundra_coupon"],flags:["hideProducer"],id:"tundra_coupon-proc_battery_1",name:"谷地调度券(低容谷地电池)",category:"settlement",row:3,icon:"tundra_coupon-proc_battery_1"},"tundra_coupon-proc_battery_2":{time:10,in:{proc_battery_2:1},out:{tundra_coupon:30},producers:["settlement-tundra_coupon"],flags:["hideProducer"],id:"tundra_coupon-proc_battery_2",name:"谷地调度券(中容谷地电池)",category:"settlement",row:3,icon:"tundra_coupon-proc_battery_2"},"tundra_coupon-proc_battery_3":{time:10,in:{proc_battery_3:1},out:{tundra_coupon:70},producers:["settlement-tundra_coupon"],flags:["hideProducer"],id:"tundra_coupon-proc_battery_3",name:"谷地调度券(高容谷地电池)",category:"settlement",row:3,icon:"tundra_coupon-proc_battery_3"}},"settlement-jinlong_coupon":{"jinlong_coupon-xiranite_powder":{time:2,in:{xiranite_powder:1},out:{jinlong_coupon:1},producers:["settlement-jinlong_coupon"],flags:["hideProducer"],id:"jinlong_coupon-xiranite_powder",name:"武陵调度券(息壤)",category:"settlement",row:4,icon:"jinlong_coupon-xiranite_powder"},"jinlong_coupon-bottled_rec_hp_4":{time:10,in:{bottled_rec_hp_4:1},out:{jinlong_coupon:16},producers:["settlement-jinlong_coupon"],flags:["hideProducer"],id:"jinlong_coupon-bottled_rec_hp_4",name:"武陵调度券(芽针针剂)",category:"settlement",row:4,icon:"jinlong_coupon-bottled_rec_hp_4"},"jinlong_coupon-proc_battery_4":{time:10,in:{proc_battery_4:1},out:{jinlong_coupon:25},producers:["settlement-jinlong_coupon"],flags:["hideProducer"],id:"jinlong_coupon-proc_battery_4",name:"武陵调度券(低容武陵电池)",category:"settlement",row:4,icon:"jinlong_coupon-proc_battery_4"}}},Q={id:"plant_moss_seed_1",name:"荞花种子",stack:50,category:"material",row:0,icon:"plant_moss_seed_1"},W={id:"plant_moss_1",name:"荞花",stack:50,category:"material",row:0,icon:"plant_moss_1"},J={id:"plant_moss_powder_1",name:"荞花粉末",stack:50,category:"material",row:0,icon:"plant_moss_powder_1"},Z={id:"plant_moss_enr_powder_1",name:"细磨荞花粉末",stack:50,category:"material",row:0,icon:"plant_moss_enr_powder_1"},tt={id:"plant_moss_seed_3",name:"砂叶种子",stack:50,category:"material",row:0,icon:"plant_moss_seed_3"},et={id:"plant_moss_3",name:"砂叶",stack:50,category:"material",row:0,icon:"plant_moss_3"},ot={id:"plant_moss_powder_3",name:"砂叶粉末",stack:50,category:"material",row:0,icon:"plant_moss_powder_3"},rt={id:"plant_grass_seed_1",name:"锦草种子",stack:50,category:"material",row:0,icon:"plant_grass_seed_1"},it={id:"plant_grass_1",name:"锦草",stack:50,category:"material",row:0,icon:"plant_grass_1"},nt={id:"plant_grass_powder_1",name:"锦草粉末",stack:50,category:"material",row:0,icon:"plant_grass_powder_1"},at={id:"liquid_plant_grass_1",name:"锦草溶液",category:"material",row:0,icon:"liquid_plant_grass_1"},st={id:"carbon_mtl",name:"碳块",stack:50,category:"material",row:0,icon:"carbon_mtl"},_t={id:"carbon_powder",name:"碳粉末",stack:50,category:"material",row:0,icon:"carbon_powder"},ct={id:"plant_moss_seed_2",name:"柑实种子",stack:50,category:"material",row:1,icon:"plant_moss_seed_2"},lt={id:"plant_moss_2",name:"柑实",stack:50,category:"material",row:1,icon:"plant_moss_2"},pt={id:"plant_moss_powder_2",name:"柑实粉末",stack:50,category:"material",row:1,icon:"plant_moss_powder_2"},dt={id:"plant_moss_enr_powder_2",name:"细磨柑实粉末",stack:50,category:"material",row:1,icon:"plant_moss_enr_powder_2"},mt={id:"plant_bbflower_seed_1",name:"酮化树种",stack:50,category:"material",row:1,icon:"plant_bbflower_seed_1"},ut={id:"plant_bbflower_1",name:"酮化灌木",stack:50,category:"material",row:1,icon:"plant_bbflower_1"},gt={id:"plant_bbflower_powder_1",name:"酮化灌木粉末",stack:50,category:"material",row:1,icon:"plant_bbflower_powder_1"},ht={id:"plant_grass_seed_2",name:"芽针种子",stack:50,category:"material",row:1,icon:"plant_grass_seed_2"},bt={id:"plant_grass_2",name:"芽针",stack:50,category:"material",row:1,icon:"plant_grass_2"},wt={id:"plant_grass_powder_2",name:"芽针粉末",stack:50,category:"material",row:1,icon:"plant_grass_powder_2"},yt={id:"liquid_plant_grass_2",name:"芽针溶液",category:"material",row:1,icon:"liquid_plant_grass_2"},xt={id:"carbon_enr_powder",name:"致密碳粉末",stack:50,category:"material",row:1,icon:"carbon_enr_powder"},ft={id:"carbon_enr",name:"稳定碳块",stack:50,category:"material",row:1,icon:"carbon_enr"},kt={id:"originium_ore",name:"源矿",stack:50,category:"material",row:2,icon:"originium_ore"},St={id:"crystal_shell",name:"晶体外壳",stack:50,category:"material",row:2,icon:"crystal_shell"},qt={id:"crystal_powder",name:"晶体外壳粉末",stack:50,category:"material",row:2,icon:"crystal_powder"},Et={id:"crystal_enr_powder",name:"致密晶体粉末",stack:50,category:"material",row:2,icon:"crystal_enr_powder"},$t={id:"crystal_enr",name:"密制晶体",stack:50,category:"material",row:2,icon:"crystal_enr"},Mt={id:"originium_powder",name:"源石粉末",stack:50,category:"material",row:2,icon:"originium_powder"},vt={id:"originium_enr_powder",name:"致密源石粉末",stack:50,category:"material",row:2,icon:"originium_enr_powder"},Ct={id:"quartz_sand",name:"紫晶矿",stack:50,category:"material",row:3,icon:"quartz_sand"},zt={id:"quartz_glass",name:"紫晶纤维",stack:50,category:"material",row:3,icon:"quartz_glass"},Pt={id:"quartz_powder",name:"紫晶粉末",stack:50,category:"material",row:3,icon:"quartz_powder"},Bt={id:"quartz_enr_powder",name:"高晶粉末",stack:50,category:"material",row:3,icon:"quartz_enr_powder"},Dt={id:"quartz_enr",name:"高晶纤维",stack:50,category:"material",row:3,icon:"quartz_enr"},Rt={id:"glass_bottle",name:"紫晶质瓶",stack:50,category:"material",row:3,icon:"glass_bottle"},Lt={id:"glass_enr_bottle",name:"高晶质瓶",stack:50,category:"material",row:3,icon:"glass_enr_bottle"},It={id:"glass_cmpt",name:"紫晶零件",stack:50,category:"material",row:3,icon:"glass_cmpt"},jt={id:"glass_enr_cmpt",name:"高晶零件",stack:50,category:"material",row:3,icon:"glass_enr_cmpt"},Tt={id:"iron_ore",name:"蓝铁矿",stack:50,category:"material",row:4,icon:"iron_ore"},Ot={id:"iron_nugget",name:"蓝铁块",stack:50,category:"material",row:4,icon:"iron_nugget"},Xt={id:"iron_powder",name:"蓝铁粉末",stack:50,category:"material",row:4,icon:"iron_powder"},Yt={id:"iron_enr_powder",name:"致密蓝铁粉末",stack:50,category:"material",row:4,icon:"iron_enr_powder"},At={id:"iron_enr",name:"钢块",stack:50,category:"material",row:4,icon:"iron_enr"},Nt={id:"iron_bottle",name:"蓝铁瓶",stack:50,category:"material",row:4,icon:"iron_bottle"},Vt={id:"iron_enr_bottle",name:"钢质瓶",stack:50,category:"material",row:4,icon:"iron_enr_bottle"},Ft={id:"iron_cmpt",name:"铁制零件",stack:50,category:"material",row:4,icon:"iron_cmpt"},Ht={id:"iron_enr_cmpt",name:"钢制零件",stack:50,category:"material",row:4,icon:"iron_enr_cmpt"},Ut={id:"liquid_water",name:"清水",category:"material",row:5,icon:"liquid_water"},Kt={id:"liquid_xiranite",name:"液化息壤",category:"material",row:5,icon:"liquid_xiranite"},Gt={id:"xiranite_powder",name:"息壤",stack:50,category:"material",row:5,icon:"xiranite_powder"},Qt={id:"bottled_food_1",name:"柑实罐头",stack:50,category:"product",row:0,icon:"bottled_food_1"},Wt={id:"bottled_food_2",name:"优质柑实罐头",stack:50,category:"product",row:0,icon:"bottled_food_2"},Jt={id:"bottled_food_3",name:"精选柑实罐头",stack:50,category:"product",row:0,icon:"bottled_food_3"},Zt={id:"bottled_food_4",name:"锦草软饮",stack:50,category:"product",row:0,icon:"bottled_food_4"},te={id:"bottled_rec_hp_1",name:"荞愈胶囊",stack:50,category:"product",row:1,icon:"bottled_rec_hp_1"},ee={id:"bottled_rec_hp_2",name:"优质荞愈胶囊",stack:50,category:"product",row:1,icon:"bottled_rec_hp_2"},oe={id:"bottled_rec_hp_3",name:"精选荞愈胶囊",stack:50,category:"product",row:1,icon:"bottled_rec_hp_3"},re={id:"bottled_rec_hp_4",name:"芽针针剂",stack:50,category:"product",row:1,icon:"bottled_rec_hp_4"},ie={id:"equip_script_1",name:"紫晶装备原件",stack:50,category:"product",row:2,icon:"equip_script_1"},ne={id:"equip_script_2",name:"蓝铁装备原件",stack:50,category:"product",row:2,icon:"equip_script_2"},ae={id:"equip_script_3",name:"高晶装备原件",stack:50,category:"product",row:2,icon:"equip_script_3"},se={id:"equip_script_4",name:"息壤装备原件",stack:50,category:"product",row:2,icon:"equip_script_4"},_e={id:"proc_battery_1",name:"低容谷地电池",stack:50,category:"product",row:3,icon:"proc_battery_1"},ce={id:"proc_battery_2",name:"中容谷地电池",stack:50,category:"product",row:3,icon:"proc_battery_2"},le={id:"proc_battery_3",name:"高容谷地电池",stack:50,category:"product",row:3,icon:"proc_battery_3"},pe={id:"proc_battery_4",name:"低容武陵电池",stack:50,category:"product",row:3,icon:"proc_battery_4"},de={id:"proc_bomb_1",name:"工业爆炸物",stack:50,category:"product",row:4,icon:"proc_bomb_1"},me={id:"tundra_coupon",name:"谷地调度券",stack:5e7,category:"settlement",row:0,icon:"tundra_coupon"},ue={id:"jinlong_coupon",name:"武陵调度券",stack:5e7,category:"settlement",row:0,icon:"jinlong_coupon"},ge={id:"cmpt_mc_1",name:"配件机",stack:50,machine:{speed:1,type:"electric",usage:20,size:[3,3]},category:"machine",row:999,icon:"cmpt_mc_1"},he={id:"dismantler_1",name:"拆解机",stack:50,machine:{speed:1,type:"electric",usage:20,size:[6,4],locations:["jinlong"]},category:"machine",row:999,icon:"dismantler_1"},be={id:"filling_pd_mc_1",name:"灌装机",stack:50,machine:{speed:1,type:"electric",usage:20,size:[6,4]},category:"machine",row:999,icon:"filling_pd_mc_1"},we={id:"furnance_1",name:"精炼炉",stack:50,machine:{speed:1,type:"electric",usage:5,size:[3,3]},category:"machine",row:999,icon:"furnance_1"},ye={id:"grinder_1",name:"粉碎机",stack:50,machine:{speed:1,type:"electric",usage:5,size:[3,3]},category:"machine",row:999,icon:"grinder_1"},xe={id:"miner_2",name:"电驱矿机",stack:50,machine:{speed:1,type:"electric",usage:5,totalRecipe:!0},category:"machine",row:999,icon:"miner_2"},fe={id:"miner_3",name:"二型电驱矿机",stack:50,machine:{speed:1,type:"electric",usage:10,totalRecipe:!0},category:"machine",row:999,icon:"miner_3"},ke={id:"mix_pool_1",name:"反应池",stack:50,machine:{speed:1,type:"electric",usage:50,size:[5,5],locations:["jinlong"]},category:"machine",row:999,icon:"mix_pool_1"},Se={id:"planter_1",name:"种植机",stack:50,machine:{speed:1,type:"electric",usage:20,size:[5,5]},category:"machine",row:999,icon:"planter_1"},qe={id:"power_sta_1",name:"热能池",stack:50,machine:{speed:1,type:"electric",usage:0,size:[2,2]},category:"machine",row:999,icon:"power_sta_1"},Ee={id:"pump_1",name:"水泵",stack:50,machine:{speed:1,type:"electric",usage:10,locations:["jinlong"]},category:"machine",row:999,icon:"pump_1"},$e={id:"seedcol_1",name:"采种机",stack:50,machine:{speed:1,type:"electric",usage:10,size:[5,5]},category:"machine",row:999,icon:"seedcol_1"},Me={id:"shaper_1",name:"塑形机",stack:50,machine:{speed:1,type:"electric",usage:10,size:[3,3]},category:"machine",row:999,icon:"shaper_1"},ve={id:"thickener_1",name:"研磨机",stack:50,machine:{speed:1,type:"electric",usage:50,size:[6,4]},category:"machine",row:999,icon:"thickener_1"},Ce={id:"tools_asm_mc_1",name:"封装机",stack:50,machine:{speed:1,type:"electric",usage:20,size:[6,4]},category:"machine",row:999,icon:"tools_asm_mc_1"},ze={id:"winder_1",name:"装备原件机",stack:50,machine:{speed:1,type:"electric",usage:10,size:[6,4]},category:"machine",row:999,icon:"winder_1"},Pe={id:"xiranite_oven_1",name:"天有洪炉",stack:50,machine:{speed:1,type:"electric",usage:50,size:[5,5],locations:["jinlong"]},category:"machine",row:999,icon:"xiranite_oven_1"},Be={id:"belt",name:"传送带",stack:1,belt:{speed:.5},category:"belt-and-pipe",row:999,icon:"belt"},De={id:"pipe",name:"管道",stack:1,pipe:{speed:4},category:"belt-and-pipe",row:999,icon:"pipe"},Re={plant_moss_seed_1:Q,plant_moss_1:W,plant_moss_powder_1:J,plant_moss_enr_powder_1:Z,plant_moss_seed_3:tt,plant_moss_3:et,plant_moss_powder_3:ot,plant_grass_seed_1:rt,plant_grass_1:it,plant_grass_powder_1:nt,liquid_plant_grass_1:at,carbon_mtl:st,carbon_powder:_t,plant_moss_seed_2:ct,plant_moss_2:lt,plant_moss_powder_2:pt,plant_moss_enr_powder_2:dt,plant_bbflower_seed_1:mt,plant_bbflower_1:ut,plant_bbflower_powder_1:gt,plant_grass_seed_2:ht,plant_grass_2:bt,plant_grass_powder_2:wt,liquid_plant_grass_2:yt,carbon_enr_powder:xt,carbon_enr:ft,originium_ore:kt,crystal_shell:St,crystal_powder:qt,crystal_enr_powder:Et,crystal_enr:$t,originium_powder:Mt,originium_enr_powder:vt,quartz_sand:Ct,quartz_glass:zt,quartz_powder:Pt,quartz_enr_powder:Bt,quartz_enr:Dt,glass_bottle:Rt,glass_enr_bottle:Lt,glass_cmpt:It,glass_enr_cmpt:jt,iron_ore:Tt,iron_nugget:Ot,iron_powder:Xt,iron_enr_powder:Yt,iron_enr:At,iron_bottle:Nt,iron_enr_bottle:Vt,iron_cmpt:Ft,iron_enr_cmpt:Ht,"iron_bottle-liquid_water":{id:"iron_bottle-liquid_water",name:"蓝铁瓶(清水)",buildIcon:["iron_bottle","liquid_water"],stack:50,category:"material",row:4,icon:"iron_bottle-liquid_water"},"iron_bottle-liquid_plant_grass_1":{id:"iron_bottle-liquid_plant_grass_1",name:"蓝铁瓶(锦草溶液)",buildIcon:["iron_bottle","liquid_plant_grass_1"],stack:50,category:"material",row:4,icon:"iron_bottle-liquid_plant_grass_1"},"iron_bottle-liquid_plant_grass_2":{id:"iron_bottle-liquid_plant_grass_2",name:"蓝铁瓶(芽针溶液)",buildIcon:["iron_bottle","liquid_plant_grass_2"],stack:50,category:"material",row:4,icon:"iron_bottle-liquid_plant_grass_2"},liquid_water:Ut,liquid_xiranite:Kt,xiranite_powder:Gt,bottled_food_1:Qt,bottled_food_2:Wt,bottled_food_3:Jt,bottled_food_4:Zt,bottled_rec_hp_1:te,bottled_rec_hp_2:ee,bottled_rec_hp_3:oe,bottled_rec_hp_4:re,equip_script_1:ie,equip_script_2:ne,equip_script_3:ae,equip_script_4:se,proc_battery_1:_e,proc_battery_2:ce,proc_battery_3:le,proc_battery_4:pe,proc_bomb_1:de,tundra_coupon:me,jinlong_coupon:ue,cmpt_mc_1:ge,dismantler_1:he,filling_pd_mc_1:be,furnance_1:we,grinder_1:ye,miner_2:xe,miner_3:fe,mix_pool_1:ke,planter_1:Se,power_sta_1:qe,pump_1:Ee,seedcol_1:$e,"settlement-jinlong_coupon":{id:"settlement-jinlong_coupon",name:"据点供货(武陵)",icon:"jinlong_coupon",stack:1,machine:{speed:1,type:"electric",usage:0,hideRate:!0,locations:["jinlong"]},category:"machine",row:999},"settlement-tundra_coupon":{id:"settlement-tundra_coupon",name:"据点供货(四号谷地)",icon:"tundra_coupon",stack:1,machine:{speed:1,type:"electric",usage:0,hideRate:!0,locations:["tundra"]},category:"machine",row:999},shaper_1:Me,thickener_1:ve,tools_asm_mc_1:Ce,winder_1:ze,xiranite_oven_1:Pe,belt:Be,pipe:De},Le={id:"belt",position:"-64px 0px",color:"#da9269"},Ie={id:"pipe",position:"-128px 0px",color:"#7ca8c0"},je={id:"carbon_enr_powder",position:"-192px 0px",color:"#484848"},Te={id:"carbon_enr",position:"-256px 0px",color:"#484b53"},Oe={id:"carbon_mtl",position:"-320px 0px",color:"#3e4048"},Xe={id:"carbon_powder",position:"-384px 0px",color:"#4c4c4c"},Ye={id:"crystal_enr_powder",position:"-448px 0px",color:"#9e6439"},Ae={id:"crystal_enr",position:"-512px 0px",color:"#746937"},Ne={id:"crystal_powder",position:"-576px 0px",color:"#6c431e"},Ve={id:"crystal_shell",position:"-640px 0px",color:"#947543"},Fe={id:"glass_bottle",position:"-704px 0px",color:"#5c4c7d"},He={id:"glass_cmpt",position:"0px -64px",color:"#9294a1"},Ue={id:"glass_enr_bottle",position:"-64px -64px",color:"#76758f"},Ke={id:"glass_enr_cmpt",position:"-128px -64px",color:"#969199"},Ge={id:"iron_bottle",position:"-192px -64px",color:"#3b597b"},Qe={id:"iron_cmpt",position:"-256px -64px",color:"#6e81a9"},We={id:"iron_enr_bottle",position:"-320px -64px",color:"#5b6d83"},Je={id:"iron_enr_cmpt",position:"-384px -64px",color:"#5e748d"},Ze={id:"iron_enr_powder",position:"-448px -64px",color:"#5b7e97"},to={id:"iron_enr",position:"-512px -64px",color:"#56829c"},eo={id:"iron_nugget",position:"-576px -64px",color:"#618095"},oo={id:"iron_ore",position:"-640px -64px",color:"#59708d"},ro={id:"iron_powder",position:"-704px -64px",color:"#36526a"},io={id:"liquid_plant_grass_1",position:"0px -128px",color:"#e4f6e3"},no={id:"liquid_plant_grass_2",position:"-64px -128px",color:"#c2ed7c"},ao={id:"liquid_water",position:"-128px -128px",color:"#5ae5f9"},so={id:"liquid_xiranite",position:"-192px -128px",color:"#467866"},_o={id:"originium_enr_powder",position:"-256px -128px",color:"#76532f"},co={id:"originium_ore",position:"-320px -128px",color:"#805f3c"},lo={id:"originium_powder",position:"-384px -128px",color:"#4d3c2b"},po={id:"plant_bbflower_1",position:"-448px -128px",color:"#635c3e"},mo={id:"plant_bbflower_powder_1",position:"-512px -128px",color:"#7c7436"},uo={id:"plant_bbflower_seed_1",position:"-576px -128px",color:"#aca368"},go={id:"plant_grass_1",position:"-640px -128px",color:"#7a8462"},ho={id:"plant_grass_2",position:"-704px -128px",color:"#5c5f4b"},bo={id:"plant_grass_powder_1",position:"0px -192px",color:"#babca0"},wo={id:"plant_grass_powder_2",position:"-64px -192px",color:"#b3907a"},yo={id:"plant_grass_seed_1",position:"-128px -192px",color:"#979e75"},xo={id:"plant_grass_seed_2",position:"-192px -192px",color:"#9e7f6a"},fo={id:"plant_moss_1",position:"-256px -192px",color:"#605926"},ko={id:"plant_moss_2",position:"-320px -192px",color:"#65681f"},So={id:"plant_moss_3",position:"-384px -192px",color:"#917729"},qo={id:"plant_moss_enr_powder_1",position:"-448px -192px",color:"#896361"},Eo={id:"plant_moss_enr_powder_2",position:"-512px -192px",color:"#90845b"},$o={id:"plant_moss_powder_1",position:"-576px -192px",color:"#ad6c66"},Mo={id:"plant_moss_powder_2",position:"-640px -192px",color:"#d5c274"},vo={id:"plant_moss_powder_3",position:"-704px -192px",color:"#9c7008"},Co={id:"plant_moss_seed_1",position:"0px -256px",color:"#9e6244"},zo={id:"plant_moss_seed_2",position:"-64px -256px",color:"#928029"},Po={id:"plant_moss_seed_3",position:"-128px -256px",color:"#856812"},Bo={id:"quartz_enr_powder",position:"-192px -256px",color:"#b1afc1"},Do={id:"quartz_enr",position:"-256px -256px",color:"#9998a5"},Ro={id:"quartz_glass",position:"-320px -256px",color:"#715f92"},Lo={id:"quartz_powder",position:"-384px -256px",color:"#62507b"},Io={id:"quartz_sand",position:"-448px -256px",color:"#5d486c"},jo={id:"xiranite_powder",position:"-512px -256px",color:"#335246"},To={id:"bottled_food_1",position:"-576px -256px",color:"#7f847c"},Oo={id:"bottled_food_2",position:"-640px -256px",color:"#878c69"},Xo={id:"bottled_food_3",position:"-704px -256px",color:"#838882"},Yo={id:"bottled_food_4",position:"0px -320px",color:"#526d71"},Ao={id:"bottled_rec_hp_1",position:"-64px -320px",color:"#b39497"},No={id:"bottled_rec_hp_2",position:"-128px -320px",color:"#bca2a2"},Vo={id:"bottled_rec_hp_3",position:"-192px -320px",color:"#b5959c"},Fo={id:"bottled_rec_hp_4",position:"-256px -320px",color:"#a69690"},Ho={id:"equip_script_1",position:"-320px -320px",color:"#a2a0b0"},Uo={id:"equip_script_2",position:"-384px -320px",color:"#8898bf"},Ko={id:"equip_script_3",position:"-448px -320px",color:"#a2a4b0"},Go={id:"equip_script_4",position:"-512px -320px",color:"#5d5644"},Qo={id:"product",position:"-576px -320px",color:"#967d7a"},Wo={id:"proc_battery_1",position:"-640px -320px",color:"#9e9f99"},Jo={id:"proc_battery_2",position:"-704px -320px",color:"#9c999d"},Zo={id:"proc_battery_3",position:"0px -384px",color:"#9e999c"},tr={id:"proc_battery_4",position:"-64px -384px",color:"#6a8872"},er={id:"proc_bomb_1",position:"-128px -384px",color:"#8c7e7a"},or={id:"jinlong_coupon",position:"-192px -384px",color:"#8ca0a0"},rr={id:"tundra_coupon",position:"-256px -384px",color:"#c5c8b4"},ir={id:"jinlong",position:"-320px -384px",color:"#7f9b97"},nr={id:"tundra",position:"-384px -384px",color:"#9caa7b"},ar={id:"cmpt_mc_1",position:"-448px -384px",color:"#848580"},sr={id:"dismantler_1",position:"-512px -384px",color:"#98988e"},_r={id:"filling_pd_mc_1",position:"-576px -384px",color:"#808183"},cr={id:"furnance_1",position:"-640px -384px",color:"#aa9f99"},lr={id:"grinder_1",position:"-704px -384px",color:"#939799"},pr={id:"miner_2",position:"0px -448px",color:"#868785"},dr={id:"miner_3",position:"-64px -448px",color:"#918a89"},mr={id:"mix_pool_1",position:"-128px -448px",color:"#898b8d"},ur={id:"planter_1",position:"-192px -448px",color:"#7c827f"},gr={id:"power_sta_1",position:"-256px -448px",color:"#939da1"},hr={id:"pump_1",position:"-320px -448px",color:"#8f8d87"},br={id:"seedcol_1",position:"-384px -448px",color:"#757c76"},wr={id:"shaper_1",position:"-448px -448px",color:"#919291"},yr={id:"thickener_1",position:"-512px -448px",color:"#898a8a"},xr={id:"tools_asm_mc_1",position:"-576px -448px",color:"#868888"},fr={id:"winder_1",position:"-640px -448px",color:"#979593"},kr={id:"xiranite_oven_1",position:"-704px -448px",color:"#a2a79a"},Sr={"missing-icon":{id:"missing-icon",position:"0px 0px",color:"#f4f6f6"},belt:Le,pipe:Ie,carbon_enr_powder:je,carbon_enr:Te,carbon_mtl:Oe,carbon_powder:Xe,crystal_enr_powder:Ye,crystal_enr:Ae,crystal_powder:Ne,crystal_shell:Ve,glass_bottle:Fe,glass_cmpt:He,glass_enr_bottle:Ue,glass_enr_cmpt:Ke,iron_bottle:Ge,iron_cmpt:Qe,iron_enr_bottle:We,iron_enr_cmpt:Je,iron_enr_powder:Ze,iron_enr:to,iron_nugget:eo,iron_ore:oo,iron_powder:ro,liquid_plant_grass_1:io,liquid_plant_grass_2:no,liquid_water:ao,liquid_xiranite:so,originium_enr_powder:_o,originium_ore:co,originium_powder:lo,plant_bbflower_1:po,plant_bbflower_powder_1:mo,plant_bbflower_seed_1:uo,plant_grass_1:go,plant_grass_2:ho,plant_grass_powder_1:bo,plant_grass_powder_2:wo,plant_grass_seed_1:yo,plant_grass_seed_2:xo,plant_moss_1:fo,plant_moss_2:ko,plant_moss_3:So,plant_moss_enr_powder_1:qo,plant_moss_enr_powder_2:Eo,plant_moss_powder_1:$o,plant_moss_powder_2:Mo,plant_moss_powder_3:vo,plant_moss_seed_1:Co,plant_moss_seed_2:zo,plant_moss_seed_3:Po,quartz_enr_powder:Bo,quartz_enr:Do,quartz_glass:Ro,quartz_powder:Lo,quartz_sand:Io,xiranite_powder:jo,bottled_food_1:To,bottled_food_2:Oo,bottled_food_3:Xo,bottled_food_4:Yo,bottled_rec_hp_1:Ao,bottled_rec_hp_2:No,bottled_rec_hp_3:Vo,bottled_rec_hp_4:Fo,equip_script_1:Ho,equip_script_2:Uo,equip_script_3:Ko,equip_script_4:Go,product:Qo,proc_battery_1:Wo,proc_battery_2:Jo,proc_battery_3:Zo,proc_battery_4:tr,proc_bomb_1:er,jinlong_coupon:or,tundra_coupon:rr,jinlong:ir,tundra:nr,cmpt_mc_1:ar,dismantler_1:sr,filling_pd_mc_1:_r,furnance_1:cr,grinder_1:lr,miner_2:pr,miner_3:dr,mix_pool_1:mr,planter_1:ur,power_sta_1:gr,pump_1:hr,seedcol_1:br,shaper_1:wr,thickener_1:yr,tools_asm_mc_1:xr,winder_1:fr,xiranite_oven_1:kr,"carbon_mtl-plant_grass_1":{id:"carbon_mtl-plant_grass_1",position:"0px -512px",color:"#4c504d"},"carbon_mtl-plant_grass_2":{id:"carbon_mtl-plant_grass_2",position:"-64px -512px",color:"#444749"},"carbon_mtl-plant_moss_1":{id:"carbon_mtl-plant_moss_1",position:"-128px -512px",color:"#484743"},"carbon_mtl-plant_moss_2":{id:"carbon_mtl-plant_moss_2",position:"-192px -512px",color:"#4a4c42"},"carbon_mtl-plant_moss_3":{id:"carbon_mtl-plant_moss_3",position:"-256px -512px",color:"#585044"},"crystal_enr_powder-crystal_powder":{id:"crystal_enr_powder-crystal_powder",position:"-320px -512px",color:"#9b6237"},"crystal_enr_powder-originium_enr_powder":{id:"crystal_enr_powder-originium_enr_powder",position:"-384px -512px",color:"#9c653a"},"dismantler_1-liquid_plant_grass_1":{id:"dismantler_1-liquid_plant_grass_1",position:"-448px -512px",color:"#a1a498"},"dismantler_1-liquid_plant_grass_2":{id:"dismantler_1-liquid_plant_grass_2",position:"-512px -512px",color:"#9ba289"},"iron_bottle-liquid_plant_grass_1":{id:"iron_bottle-liquid_plant_grass_1",position:"-576px -512px",color:"#7b909a"},"iron_bottle-liquid_plant_grass_2":{id:"iron_bottle-liquid_plant_grass_2",position:"-640px -512px",color:"#6c8c7a"},"iron_bottle-liquid_water":{id:"iron_bottle-liquid_water",position:"-704px -512px",color:"#44869e"},"jinlong_coupon-bottled_rec_hp_4":{id:"jinlong_coupon-bottled_rec_hp_4",position:"0px -576px",color:"#96a09f"},"jinlong_coupon-proc_battery_4":{id:"jinlong_coupon-proc_battery_4",position:"-64px -576px",color:"#8d9f9c"},"jinlong_coupon-xiranite_powder":{id:"jinlong_coupon-xiranite_powder",position:"-128px -576px",color:"#869897"},"power_sta_1-originium_ore":{id:"power_sta_1-originium_ore",position:"-192px -576px",color:"#929595"},"power_sta_1-proc_battery_1":{id:"power_sta_1-proc_battery_1",position:"-256px -576px",color:"#99a1a4"},"power_sta_1-proc_battery_2":{id:"power_sta_1-proc_battery_2",position:"-320px -576px",color:"#98a0a5"},"power_sta_1-proc_battery_3":{id:"power_sta_1-proc_battery_3",position:"-384px -576px",color:"#98a0a4"},"power_sta_1-proc_battery_4":{id:"power_sta_1-proc_battery_4",position:"-448px -576px",color:"#919d9f"},"tundra_coupon-bottled_food_1":{id:"tundra_coupon-bottled_food_1",position:"-512px -576px",color:"#bcbfac"},"tundra_coupon-bottled_food_2":{id:"tundra_coupon-bottled_food_2",position:"-576px -576px",color:"#bcbfa7"},"tundra_coupon-bottled_food_3":{id:"tundra_coupon-bottled_food_3",position:"-640px -576px",color:"#b6b9a9"},"tundra_coupon-bottled_rec_hp_1":{id:"tundra_coupon-bottled_rec_hp_1",position:"-704px -576px",color:"#c5c1b2"},"tundra_coupon-bottled_rec_hp_2":{id:"tundra_coupon-bottled_rec_hp_2",position:"0px -640px",color:"#c8c3b4"},"tundra_coupon-bottled_rec_hp_3":{id:"tundra_coupon-bottled_rec_hp_3",position:"-64px -640px",color:"#c3bbaf"},"tundra_coupon-crystal_shell":{id:"tundra_coupon-crystal_shell",position:"-128px -640px",color:"#bdb9a2"},"tundra_coupon-glass_bottle":{id:"tundra_coupon-glass_bottle",position:"-192px -640px",color:"#b7b8aa"},"tundra_coupon-glass_cmpt":{id:"tundra_coupon-glass_cmpt",position:"-256px -640px",color:"#bec1b5"},"tundra_coupon-iron_cmpt":{id:"tundra_coupon-iron_cmpt",position:"-320px -640px",color:"#b8bdb7"},"tundra_coupon-iron_enr_cmpt":{id:"tundra_coupon-iron_enr_cmpt",position:"-384px -640px",color:"#b6bbb0"},"tundra_coupon-proc_battery_1":{id:"tundra_coupon-proc_battery_1",position:"-448px -640px",color:"#bfc1af"},"tundra_coupon-proc_battery_2":{id:"tundra_coupon-proc_battery_2",position:"-512px -640px",color:"#bec0b0"},"tundra_coupon-proc_battery_3":{id:"tundra_coupon-proc_battery_3",position:"-576px -640px",color:"#bfc0af"}},qr=[{id:"plant_moss_seed_1",name:"荞花种子",stack:50,category:"material",row:0,icon:"plant_moss_seed_1"},{id:"plant_moss_1",name:"荞花",stack:50,category:"material",row:0,icon:"plant_moss_1"},{id:"plant_moss_powder_1",name:"荞花粉末",stack:50,category:"material",row:0,icon:"plant_moss_powder_1"},{id:"plant_moss_enr_powder_1",name:"细磨荞花粉末",stack:50,category:"material",row:0,icon:"plant_moss_enr_powder_1"},{id:"plant_moss_seed_3",name:"砂叶种子",stack:50,category:"material",row:0,icon:"plant_moss_seed_3"},{id:"plant_moss_3",name:"砂叶",stack:50,category:"material",row:0,icon:"plant_moss_3"},{id:"plant_moss_powder_3",name:"砂叶粉末",stack:50,category:"material",row:0,icon:"plant_moss_powder_3"},{id:"plant_grass_seed_1",name:"锦草种子",stack:50,category:"material",row:0,icon:"plant_grass_seed_1"},{id:"plant_grass_1",name:"锦草",stack:50,category:"material",row:0,icon:"plant_grass_1"},{id:"plant_grass_powder_1",name:"锦草粉末",stack:50,category:"material",row:0,icon:"plant_grass_powder_1"},{id:"carbon_mtl",name:"碳块",stack:50,category:"material",row:0,icon:"carbon_mtl"},{id:"carbon_powder",name:"碳粉末",stack:50,category:"material",row:0,icon:"carbon_powder"},{id:"plant_moss_seed_2",name:"柑实种子",stack:50,category:"material",row:1,icon:"plant_moss_seed_2"},{id:"plant_moss_2",name:"柑实",stack:50,category:"material",row:1,icon:"plant_moss_2"},{id:"plant_moss_powder_2",name:"柑实粉末",stack:50,category:"material",row:1,icon:"plant_moss_powder_2"},{id:"plant_moss_enr_powder_2",name:"细磨柑实粉末",stack:50,category:"material",row:1,icon:"plant_moss_enr_powder_2"},{id:"plant_bbflower_seed_1",name:"酮化树种",stack:50,category:"material",row:1,icon:"plant_bbflower_seed_1"},{id:"plant_bbflower_1",name:"酮化灌木",stack:50,category:"material",row:1,icon:"plant_bbflower_1"},{id:"plant_bbflower_powder_1",name:"酮化灌木粉末",stack:50,category:"material",row:1,icon:"plant_bbflower_powder_1"},{id:"plant_grass_seed_2",name:"芽针种子",stack:50,category:"material",row:1,icon:"plant_grass_seed_2"},{id:"plant_grass_2",name:"芽针",stack:50,category:"material",row:1,icon:"plant_grass_2"},{id:"plant_grass_powder_2",name:"芽针粉末",stack:50,category:"material",row:1,icon:"plant_grass_powder_2"},{id:"carbon_enr_powder",name:"致密碳粉末",stack:50,category:"material",row:1,icon:"carbon_enr_powder"},{id:"carbon_enr",name:"稳定碳块",stack:50,category:"material",row:1,icon:"carbon_enr"},{id:"originium_ore",name:"源矿",stack:50,category:"material",row:2,icon:"originium_ore"},{id:"crystal_shell",name:"晶体外壳",stack:50,category:"material",row:2,icon:"crystal_shell"},{id:"crystal_powder",name:"晶体外壳粉末",stack:50,category:"material",row:2,icon:"crystal_powder"},{id:"crystal_enr_powder",name:"致密晶体粉末",stack:50,category:"material",row:2,icon:"crystal_enr_powder"},{id:"crystal_enr",name:"密制晶体",stack:50,category:"material",row:2,icon:"crystal_enr"},{id:"originium_powder",name:"源石粉末",stack:50,category:"material",row:2,icon:"originium_powder"},{id:"originium_enr_powder",name:"致密源石粉末",stack:50,category:"material",row:2,icon:"originium_enr_powder"},{id:"quartz_sand",name:"紫晶矿",stack:50,category:"material",row:3,icon:"quartz_sand"},{id:"quartz_glass",name:"紫晶纤维",stack:50,category:"material",row:3,icon:"quartz_glass"},{id:"quartz_powder",name:"紫晶粉末",stack:50,category:"material",row:3,icon:"quartz_powder"},{id:"quartz_enr_powder",name:"高晶粉末",stack:50,category:"material",row:3,icon:"quartz_enr_powder"},{id:"quartz_enr",name:"高晶纤维",stack:50,category:"material",row:3,icon:"quartz_enr"},{id:"glass_bottle",name:"紫晶质瓶",stack:50,category:"material",row:3,icon:"glass_bottle"},{id:"glass_enr_bottle",name:"高晶质瓶",stack:50,category:"material",row:3,icon:"glass_enr_bottle"},{id:"glass_cmpt",name:"紫晶零件",stack:50,category:"material",row:3,icon:"glass_cmpt"},{id:"glass_enr_cmpt",name:"高晶零件",stack:50,category:"material",row:3,icon:"glass_enr_cmpt"},{id:"iron_ore",name:"蓝铁矿",stack:50,category:"material",row:4,icon:"iron_ore"},{id:"iron_nugget",name:"蓝铁块",stack:50,category:"material",row:4,icon:"iron_nugget"},{id:"iron_powder",name:"蓝铁粉末",stack:50,category:"material",row:4,icon:"iron_powder"},{id:"iron_enr_powder",name:"致密蓝铁粉末",stack:50,category:"material",row:4,icon:"iron_enr_powder"},{id:"iron_enr",name:"钢块",stack:50,category:"material",row:4,icon:"iron_enr"},{id:"iron_bottle",name:"蓝铁瓶",stack:50,category:"material",row:4,icon:"iron_bottle"},{id:"iron_enr_bottle",name:"钢质瓶",stack:50,category:"material",row:4,icon:"iron_enr_bottle"},{id:"iron_cmpt",name:"铁制零件",stack:50,category:"material",row:4,icon:"iron_cmpt"},{id:"iron_enr_cmpt",name:"钢制零件",stack:50,category:"material",row:4,icon:"iron_enr_cmpt"},{id:"iron_bottle-liquid_water",name:"蓝铁瓶(清水)",buildIcon:["iron_bottle","liquid_water"],stack:50,category:"material",row:4,icon:"iron_bottle-liquid_water"},{id:"iron_bottle-liquid_plant_grass_1",name:"蓝铁瓶(锦草溶液)",buildIcon:["iron_bottle","liquid_plant_grass_1"],stack:50,category:"material",row:4,icon:"iron_bottle-liquid_plant_grass_1"},{id:"iron_bottle-liquid_plant_grass_2",name:"蓝铁瓶(芽针溶液)",buildIcon:["iron_bottle","liquid_plant_grass_2"],stack:50,category:"material",row:4,icon:"iron_bottle-liquid_plant_grass_2"},{id:"xiranite_powder",name:"息壤",stack:50,category:"material",row:5,icon:"xiranite_powder"}],Er=[{id:"cmpt_mc_1",name:"配件机",stack:50,machine:{speed:1,type:"electric",usage:20,size:[3,3]},category:"machine",row:999,icon:"cmpt_mc_1"},{id:"filling_pd_mc_1",name:"灌装机",stack:50,machine:{speed:1,type:"electric",usage:20,size:[6,4]},category:"machine",row:999,icon:"filling_pd_mc_1"},{id:"furnance_1",name:"精炼炉",stack:50,machine:{speed:1,type:"electric",usage:5,size:[3,3]},category:"machine",row:999,icon:"furnance_1"},{id:"grinder_1",name:"粉碎机",stack:50,machine:{speed:1,type:"electric",usage:5,size:[3,3]},category:"machine",row:999,icon:"grinder_1"},{id:"planter_1",name:"种植机",stack:50,machine:{speed:1,type:"electric",usage:20,size:[5,5]},category:"machine",row:999,icon:"planter_1"},{id:"power_sta_1",name:"热能池",stack:50,machine:{speed:1,type:"electric",usage:0,size:[2,2]},category:"machine",row:999,icon:"power_sta_1"},{id:"seedcol_1",name:"采种机",stack:50,machine:{speed:1,type:"electric",usage:10,size:[5,5]},category:"machine",row:999,icon:"seedcol_1"},{id:"shaper_1",name:"塑形机",stack:50,machine:{speed:1,type:"electric",usage:10,size:[3,3]},category:"machine",row:999,icon:"shaper_1"},{id:"thickener_1",name:"研磨机",stack:50,machine:{speed:1,type:"electric",usage:50,size:[6,4]},category:"machine",row:999,icon:"thickener_1"},{id:"tools_asm_mc_1",name:"封装机",stack:50,machine:{speed:1,type:"electric",usage:20,size:[6,4]},category:"machine",row:999,icon:"tools_asm_mc_1"},{id:"winder_1",name:"装备原件机",stack:50,machine:{speed:1,type:"electric",usage:10,size:[6,4]},category:"machine",row:999,icon:"winder_1"},{id:"dismantler_1",name:"拆解机",stack:50,machine:{speed:1,type:"electric",usage:20,size:[6,4],locations:["jinlong"]},category:"machine",row:999,icon:"dismantler_1"},{id:"mix_pool_1",name:"反应池",stack:50,machine:{speed:1,type:"electric",usage:50,size:[5,5],locations:["jinlong"]},category:"machine",row:999,icon:"mix_pool_1"},{id:"xiranite_oven_1",name:"天有洪炉",stack:50,machine:{speed:1,type:"electric",usage:50,size:[5,5],locations:["jinlong"]},category:"machine",row:999,icon:"xiranite_oven_1"}],$r="/assets/icons-CoQQJwvg.webp",Mr={refineryFurnace:"furnance_1",crusher:"grinder_1",accessoryMachine:"cmpt_mc_1",shapingMachine:"shaper_1",seedHarvester:"seedcol_1",planter:"planter_1",equipmentComponentMachine:"winder_1",fillingMachine:"filling_pd_mc_1",packagingMachine:"tools_asm_mc_1",grinder:"thickener_1",powerStation:"power_sta_1",dismantlerMachine:"dismantler_1",reactionPool:"mix_pool_1",xiraniteFurnace:"xiranite_oven_1",waterPump:"pump_1"},vr={conveyerbelt:"传送带",refineryFurnace:"精炼炉",crusher:"粉碎机",accessoryMachine:"配件机",shapingMachine:"塑型机",seedHarvester:"采种机",planter:"种植机",equipmentComponentMachine:"装备原件机",fillingMachine:"罐装机",packagingMachine:"封装机",grinder:"研磨机",protocolStorageBox:"存储箱",protocolCore:"协议核心",warehouseDepositPort:"存货口",warehouseWithdrawalPort:"取货口",powerStation:"热能池",powerSupplier:"供电桩",dismantlerMachine:"拆解机",reactionPool:"反应池",waterPump:"水泵",xiraniteFurnace:"天有洪炉",liquidContainer:"储液罐"};Object.fromEntries(Object.entries(vr).map(([i,t])=>[t,i]));const Cr=Object.fromEntries(Object.entries(Mr).map(([i,t])=>[t,i])),Vr=G,zr=Re,Pr=Sr,Fr=qr,Hr=Er;function Ur(i){const[t,e]=i.machine.size??[1,1];return`{"w":"${t}", "h":"${e}", "noResize":true, "id":"${Cr[i.id]}"}`}function Kr([i,t]){const e=zr[i];return{itemId:i,count:t,icon:e.icon}}function Gr(i,t=64,e=null){const o=Pr[i];if(!o)return{};const s=t/64,[n,l]=o.position.split(" ").map(c=>parseFloat(c));return{backgroundImage:`url(${$r})`,backgroundColor:e??o.color,backgroundPosition:`${n*s}px ${l*s}px`}}class Br{constructor(){this.rootStore=null,this.isListening=!1,this.gridElCont=null,this.gridElContScale=1,this.handleKeydown=this.handleKeydown.bind(this)}init(t){this.isListening||(this.gridElCont=t,this.rootStore=w(),window.addEventListener("keydown",this.handleKeydown),this.isListening=!0)}updateScale(t){this.gridElContScale=t}handleKeydown(t){const e=t.key.toLowerCase();if(["w","a","s","d"].includes(e)){t.preventDefault();const o=50*this.gridElContScale;e==="w"&&(this.gridElCont.scrollTop-=o),e==="s"&&(this.gridElCont.scrollTop+=o),e==="a"&&(this.gridElCont.scrollLeft-=o),e==="d"&&(this.gridElCont.scrollLeft+=o);return}switch(e){case"q":t.preventDefault(),this.rootStore.keyboardCommand="pipes-pipe";break;case"e":t.preventDefault(),this.rootStore.keyboardCommand="belts-belt";break;case"x":t.preventDefault(),this.rootStore.keyboardCommand="enter-select";break;case"f":t.preventDefault(),this.rootStore.keyboardCommand="select-fold";break;case"m":t.preventDefault(),this.rootStore.keyboardCommand="select-move";break;case"escape":t.preventDefault(),this.rootStore.keyboardCommand="escape";break}}destroy(){this.isListening&&(window.removeEventListener("keydown",this.handleKeydown),this.isListening=!1,this.gridElCont=null,this.rootStore&&(this.rootStore.isXPressed=!1,this.rootStore.activeKey=null))}disable(){this.isListening&&(window.removeEventListener("keydown",this.handleKeydown),this.isListening=!1)}enable(){this.isListening||!this.gridElCont||(window.addEventListener("keydown",this.handleKeydown),this.isListening=!0)}}const Qr=new Br;class Dr{constructor(){this.selectStore=null,this.rootStore=null,this.indicatorContainer=null,this.rootContainer=null,this.selectRange={minX:null,maxX:null,minY:null,maxY:null},this.gridSize=3017/72,this.selectedConfigs={},this.selectedBeltConfigs={},this.selectedPipeConfigs={},this.handleMouseMove=this.handleMouseMove.bind(this),this.bias={biasX:0,biasY:0}}init(t){this.rootContainer=t,this.rootStore=w(),this.createIndicator()}createIndicator(){this.indicatorContainer=document.createElement("div"),this.indicatorContainer.style.position="absolute",this.indicatorContainer.style.zIndex=1e3,this.indicatorContainer.style.pointerEvents="none",this.indicatorContainer.style.backgroundColor="rgba(0, 115, 255, 0.82)",this.rootContainer.appendChild(this.indicatorContainer)}generatePrint(t){const{x:e,y:o,width:r,height:s}=t,n=document.createElement("div");return n.style.position="absolute",n.style.left=`${e*this.gridSize}px`,n.style.top=`${o*this.gridSize}px`,n.style.width=`${r*this.gridSize}px`,n.style.height=`${s*this.gridSize}px`,n.style.backgroundColor="rgba(0, 115, 255, 0.66)",n.style.zIndex=2e3,this.indicatorContainer.appendChild(n),n}activateMouseMoveListener(){this.rootStore&&this.rootStore.gridEl&&this.rootStore.gridEl.addEventListener("mousemove",this.handleMouseMove)}deactivateMouseMoveListener(){this.rootStore&&this.rootStore.gridEl&&this.rootStore.gridEl.removeEventListener("mousemove",this.handleMouseMove)}handleMouseMove(t){if(!this.indicatorContainer)return;const e=Math.floor(this.selectRange.minX+(this.selectRange.maxX-this.selectRange.minX)/2),o=Math.floor(this.selectRange.minY+(this.selectRange.maxY-this.selectRange.minY)/2),r=this.rootContainer.getBoundingClientRect(),s=t.clientX-r.left,n=t.clientY-r.top,l=s/this.rootStore.gridElContScale,c=n/this.rootStore.gridElContScale,a=Math.floor(l/this.gridSize)-e,_=Math.floor(c/this.gridSize)-o;this.bias={biasX:a,biasY:_};const p=a*this.gridSize,d=_*this.gridSize;this.indicatorContainer.style.left=`${p}px`,this.indicatorContainer.style.top=`${d}px`}clearConfig(){this.selectedConfigs={},this.selectedBeltConfigs={},this.selectedPipeConfigs={},this.bias={biasX:0,biasY:0}}updateIndicatorContent(t){console.log("updateIndicatorContent",t);const{startCell:e,endCell:o}=t;this.selectRange={minX:null,maxX:null,minY:null,maxY:null},this.clearIndicator();const r=Math.min(e.x,o.x),s=Math.max(e.x,o.x),n=Math.min(e.y,o.y),l=Math.max(e.y,o.y),c=(a,_="machine")=>{const p=parseInt(a.getAttribute("gs-x"))||0,d=parseInt(a.getAttribute("gs-y"))||0,y=parseInt(a.getAttribute("gs-w"))||1,x=parseInt(a.getAttribute("gs-h"))||1,f=a.getAttribute("gs-id");if(p>=r&&p<=s&&d>=n&&d<=l){this.selectRange.minX=Math.min(this.selectRange.minX??p,p),this.selectRange.maxX=Math.max(this.selectRange.maxX??p+y,p+y),this.selectRange.minY=Math.min(this.selectRange.minY??d,d),this.selectRange.maxY=Math.max(this.selectRange.maxY??d+x,d+x);const S={x:p,y:d,width:y,height:x,id:f,el:a};_==="machine"&&(this.selectedConfigs[f]=S),_==="belt"&&(this.selectedBeltConfigs[f]=S),_==="pipe"&&(this.selectedPipeConfigs[f]=S)}};Object.values(this.rootStore.gridWidgetElements).forEach(a=>{c(a,"machine")});for(let a=r;a<=s;a++)for(let _=n;_<=l;_++){const p=this.rootStore.gridBelt2dElement[`${a}-${_}`],d=this.rootStore.gridPipe2dElement[`${a}-${_}`];p&&c(p,"belt"),d&&c(d,"pipe")}Object.values(this.selectedConfigs).forEach(a=>{this.generatePrint(a)}),Object.values(this.selectedBeltConfigs).forEach(a=>{this.generatePrint(a)}),Object.values(this.selectedPipeConfigs).forEach(a=>{this.generatePrint(a)})}clearIndicator(){this.indicatorContainer.innerHTML=""}reset(){this.clearConfig(),this.clearIndicator(),this.deactivateMouseMoveListener(),this.indicatorContainer.style.left="0",this.indicatorContainer.style.top="0"}}const h=new Dr;class Rr{constructor(){this.gridElCont=null,this.rootStore=null,this.indicatorElement=null,this.gridSize=3017/72,this.onMoveMouse=this.onMoveMouse.bind(this),this.updateIndicator=this.updateIndicator.bind(this)}init(t){t&&(this.rootStore=w(),this.gridElCont=t,this.createIndicatorElement())}createIndicatorElement(){this.indicatorElement=document.createElement("div"),this.indicatorElement.className="belt-indicator",this.indicatorElement.style.position="absolute",this.indicatorElement.style.width=`${this.gridSize}px`,this.indicatorElement.style.height=`${this.gridSize}px`,this.indicatorElement.style.background="repeating-linear-gradient(45deg, rgba(0,128,255,0.3) 0, rgba(0,128,255,0.3) 1px, transparent 1px, transparent 5px)",this.indicatorElement.style.backgroundSize="7.07px 7.07px",this.indicatorElement.style.border="1px solid rgba(0,128,255,0.5)",this.indicatorElement.style.pointerEvents="none",this.indicatorElement.style.zIndex="0",this.indicatorElement.style.display="none",this.indicatorElement.style.transition="all 0.01s ease",this.gridElCont.appendChild(this.indicatorElement),this.lineElement=document.createElement("div"),this.lineElement.className="belt-indicator-line",this.lineElement.style.position="absolute",this.lineElement.style.pointerEvents="none",this.lineElement.style.zIndex="-1",this.lineElement.style.display="none",this.gridElCont.appendChild(this.lineElement)}onMoveMouse(t){if(!this.rootStore||!this.indicatorElement)return;const e=this.rootStore.getPositionFromClick(t);e&&this.updateIndicator(e)}updateIndicator(t){if(!this.indicatorElement||!this.rootStore)return;const e=t.x*this.gridSize,o=t.y*this.gridSize;this.indicatorElement.style.left=`${e}px`,this.indicatorElement.style.top=`${o}px`,this.indicatorElement.style.display="block",this.drawConnectionLine(t)}drawConnectionLine(t){if(!this.lineElement||!this.rootStore)return;const e=this.rootStore.lastBaseNode;if(!e){this.lineElement.style.display="none";return}const o=[],r=Math.min(e.x,t.x),s=Math.max(e.x,t.x);for(let a=r;a<=s;a++)o.push({x:a,y:e.y});const n=Math.min(e.y,t.y),l=Math.max(e.y,t.y);for(let a=n;a<=l;a++)o.push({x:t.x,y:a});let c="";o.forEach(a=>{const _=a.x*this.gridSize,p=a.y*this.gridSize;c+=`<div style="
        position: absolute;
        left: ${_}px;
        top: ${p}px;
        width: ${this.gridSize}px;
        height: ${this.gridSize}px;
        background: repeating-linear-gradient(45deg, rgba(0,128,255,0.3) 0, rgba(0,128,255,0.3) 1px, transparent 1px, transparent 5px);
        background-size: 7.07px 7.07px;
        border: 1px solid rgba(0,128,255,0.5);
        pointer-events: none;
      "></div>`}),this.lineElement.innerHTML=c,this.lineElement.style.display="block",this.lineElement.style.left="0",this.lineElement.style.top="0",this.lineElement.style.width="100%",this.lineElement.style.height="100%"}activate(){this.gridElCont.style.zIndex="1000",this.indicatorElement&&(this.indicatorElement.style.display="block")}deactivate(){this.gridElCont.style.zIndex="0",this.indicatorElement&&(this.indicatorElement.style.display="none"),this.lineElement&&(this.lineElement.style.display="none")}handleStartBelt(t){t==="belt"?this.rootStore.gridEl.addEventListener("mousemove",this.onMoveMouse):t==="pipe"&&this.rootStore.pipeGrid.addEventListener("mousemove",this.onMoveMouse),this.activate()}handleEndBelt(t){t==="belt"?this.rootStore.gridEl.removeEventListener("mousemove",this.onMoveMouse):t==="pipe"&&this.rootStore.pipeGrid.removeEventListener("mousemove",this.onMoveMouse),this.deactivate()}destroy(){this.gridElCont&&(this.gridElCont.removeEventListener("mousemove",this.onMoveMouse),this.indicatorElement&&this.gridElCont.removeChild(this.indicatorElement),this.lineElement&&this.gridElCont.removeChild(this.lineElement)),this.indicatorElement=null,this.lineElement=null,this.gridElCont=null,this.rootStore=null}}const b=new Rr,Lr={conveyerbelt:m(u(()=>g(()=>import("./components-Cee0kNJq.js").then(i=>i.C),__vite__mapDeps([0,1,2,3,4])))),pipe:m(u(()=>g(()=>import("./components-Cee0kNJq.js").then(i=>i.v),__vite__mapDeps([0,1,2,3,4])))),refineryFurnace:m(u(()=>g(()=>import("./components-Cee0kNJq.js").then(i=>i.w),__vite__mapDeps([0,1,2,3,4])))),crusher:m(u(()=>g(()=>import("./components-Cee0kNJq.js").then(i=>i.x),__vite__mapDeps([0,1,2,3,4])))),accessoryMachine:m(u(()=>g(()=>import("./components-Cee0kNJq.js").then(i=>i.y),__vite__mapDeps([0,1,2,3,4])))),shapingMachine:m(u(()=>g(()=>import("./components-Cee0kNJq.js").then(i=>i.z),__vite__mapDeps([0,1,2,3,4])))),seedHarvester:m(u(()=>g(()=>import("./components-Cee0kNJq.js").then(i=>i.B),__vite__mapDeps([0,1,2,3,4])))),planter:m(u(()=>g(()=>import("./components-Cee0kNJq.js").then(i=>i.E),__vite__mapDeps([0,1,2,3,4])))),equipmentComponentMachine:m(u(()=>g(()=>import("./components-Cee0kNJq.js").then(i=>i.F),__vite__mapDeps([0,1,2,3,4])))),fillingMachine:m(u(()=>g(()=>import("./components-Cee0kNJq.js").then(i=>i.H),__vite__mapDeps([0,1,2,3,4])))),packagingMachine:m(u(()=>g(()=>import("./components-Cee0kNJq.js").then(i=>i.J),__vite__mapDeps([0,1,2,3,4])))),grinder:m(u(()=>g(()=>import("./components-Cee0kNJq.js").then(i=>i.K),__vite__mapDeps([0,1,2,3,4])))),protocolStorageBox:m(u(()=>g(()=>import("./components-Cee0kNJq.js").then(i=>i.M),__vite__mapDeps([0,1,2,3,4])))),protocolCore:m(u(()=>g(()=>import("./components-Cee0kNJq.js").then(i=>i.N),__vite__mapDeps([0,1,2,3,4])))),warehouseDepositPort:m(u(()=>g(()=>import("./components-Cee0kNJq.js").then(i=>i.O),__vite__mapDeps([0,1,2,3,4])))),warehouseWithdrawalPort:m(u(()=>g(()=>import("./components-Cee0kNJq.js").then(i=>i.U),__vite__mapDeps([0,1,2,3,4])))),powerStation:m(u(()=>g(()=>import("./components-Cee0kNJq.js").then(i=>i.V),__vite__mapDeps([0,1,2,3,4])))),powerSupplier:m(u(()=>g(()=>import("./components-Cee0kNJq.js").then(i=>i.X),__vite__mapDeps([0,1,2,3,4])))),dismantlerMachine:m(u(()=>g(()=>import("./components-Cee0kNJq.js").then(i=>i.Y),__vite__mapDeps([0,1,2,3,4])))),reactionPool:m(u(()=>g(()=>import("./components-Cee0kNJq.js").then(i=>i.Z),__vite__mapDeps([0,1,2,3,4])))),xiraniteFurnace:m(u(()=>g(()=>import("./components-Cee0kNJq.js").then(i=>i.$),__vite__mapDeps([0,1,2,3,4])))),liquidContainer:m(u(()=>g(()=>import("./components-Cee0kNJq.js").then(i=>i.a0),__vite__mapDeps([0,1,2,3,4]))))};class Ir{constructor(){}init(){this.rootStore=w()}importBluePrint(t){let{machine:e,belt:o,part:r,pipe:s}=t;for(let n of e)this.makeMachine(n);for(let n of o)this.generateOneBelt(n.position,n.type,n.rotate,n.id);for(let n of s)this.generateOnePipe(n.position,n.type,n.rotate,n.id);this.rootStore.initPart(r)}generateOneBelt(t,e="belt-img",o=0,r=null){let s=document.createElement("div"),n=r||`${r}_${Date.now()}_${Math.floor(Math.random()*1e3)}`,l=q(v,{gs_id:n,rotate:o,type:e,position:t});E(l,s),s=this.rootStore.rootGrid.makeWidget(s,{x:t.x,y:t.y,w:1,h:1,float:!1,noResize:!0,locked:!0,id:n}),this.rootStore.rootGrid.movable(s,!1);const c={position:t,type:e,rotate:o,id:n,craftElement:s};this.rootStore.addBelt(c)}generateOnePipe(t,e="belt-img-pipe",o=0,r=null){let s=document.createElement("div"),n=r||`${r}_${Date.now()}_${Math.floor(Math.random()*1e3)}`,l=q(C,{gs_id:n,rotate:o,type:e,position:t});E(l,s),s=this.rootStore.rootPipeGrid.makeWidget(s,{x:t.x,y:t.y,w:1,h:1,float:!1,noResize:!0,locked:!0,id:n}),this.rootStore.rootPipeGrid.movable(s,!1);const c={position:t,type:e,rotate:o,id:n,craftElement:s};this.rootStore.addPipe(c)}replacePipeNodeAtPosition(t,{type:e,rotate:o},r="pipe"){if(console.log("ok"),!this.rootStore.removeTargetPipe(t))return!1;this.generateOnePipe(t,e,o,r)}replaceNodeAtPosition(t,{type:e,rotate:o},r="belt"){if(console.log("ok"),!this.rootStore.removeTargetBelt(t))return!1;this.generateOneBelt(t,e,o,r)}generateStraightPipe(t,e,o="pipe"){const r=e.x-t.x,s=e.y-t.y;if(r!==0&&s!==0)return!1;const n=r===0?0:r>0?1:-1,l=s===0?0:s>0?1:-1,c=Math.abs(r+s),a=this.getStraightRotateIndex(n,l);if(this.rootStore.lastDir!==null&&this.rootStore.lastDir!==a){const _=this.getTurnRotateIndex(this.rootStore.lastDir,a);if(_===void 0)return!1;this.replacePipeNodeAtPosition(t,{type:"turn-img-pipe",rotate:_})}for(let _=1;_<=c;_++){const p=t.x+n*_,d=t.y+l*_;if(!this.rootStore.isCellEmptyForPipe(p,d))return!1}for(let _=1;_<=c;_++){const p=t.x+n*_,d=t.y+l*_;this.generateOnePipe({x:p,y:d},"belt-img-pipe",a,o)}return this.rootStore.lastDir=a,!0}generateStraightBelt(t,e,o="belt"){const r=e.x-t.x,s=e.y-t.y;if(r!==0&&s!==0)return!1;const n=r===0?0:r>0?1:-1,l=s===0?0:s>0?1:-1,c=Math.abs(r+s),a=this.getStraightRotateIndex(n,l);if(this.rootStore.lastDir!==null&&this.rootStore.lastDir!==a){const _=this.getTurnRotateIndex(this.rootStore.lastDir,a);if(_===void 0)return!1;this.replaceNodeAtPosition(t,{type:"turn-img",rotate:_})}for(let _=1;_<=c;_++){const p=t.x+n*_,d=t.y+l*_;if(!this.rootStore.isCellEmptyByPosition(p,d))return!1}for(let _=1;_<=c;_++){const p=t.x+n*_,d=t.y+l*_;this.generateOneBelt({x:p,y:d},"belt-img",a,o)}return this.rootStore.lastDir=a,!0}getStraightRotateIndex(t,e){if(t===1&&e===0)return 0;if(t===0&&e===1)return 1;if(t===-1&&e===0)return 2;if(t===0&&e===-1)return 3}getTurnRotateIndex(t,e){return{"0-3":0,"0-1":3,"1-1":3,"1-2":0,"1-0":1,"3-0":2,"3-2":3,"2-3":1,"2-1":2}[`${t}-${e}`]}generateBelt(t,e="belt"){if(!this.rootStore.lastBaseNode){this.rootStore.lastBaseNode={...t},this.rootStore.lastDir=null;return}const o={...this.rootStore.lastBaseNode},r={x:t.x,y:o.y};r.x!==o.x&&!this.generateStraightBelt(o,r)||t.y!==r.y&&!this.generateStraightBelt(r,t)||(this.rootStore.lastBaseNode={...t})}generatePipe(t,e="pipe"){if(!this.rootStore.lastBaseNode){this.rootStore.lastBaseNode={...t},this.rootStore.lastDir=null;return}const o={...this.rootStore.lastBaseNode},r={x:t.x,y:o.y};r.x!==o.x&&!this.generateStraightPipe(o,r)||t.y!==r.y&&!this.generateStraightPipe(r,t)||(this.rootStore.lastBaseNode={...t})}handleClickSingleBoP(t){const e=this.rootStore.getPositionFromClick(t);if(this.rootStore.quickPlaceMode==="pipe"&&["belt","turn"].includes(this.rootStore.toolbarMode)&&this.rootStore.isCellEmptyPipe(t)){let o=`${this.rootStore.toolbarMode}-img-pipe`;this.generateOnePipe(e,o,0,this.rootStore.toolbarMode);return}if(this.rootStore.quickPlaceMode==="pipe"&&!["belt","turn"].includes(this.rootStore.toolbarMode)&&this.rootStore.isCellEmpty(t)){let o=`${this.rootStore.toolbarMode}-img-pipe`;this.generateOneBelt(e,o,0,this.rootStore.toolbarMode);return}if(this.rootStore.quickPlaceMode==="belt"&&this.rootStore.isCellEmpty(t)){let o=`${this.rootStore.toolbarMode}-img`;this.generateOneBelt(e,o,0,this.rootStore.toolbarMode);return}}makeMachine(t){const{id:e,machine_id:o,recipe:r,rotate:s,x:n,y:l,w:c,h:a,part:_}=t,p=q(Lr[o],{gs_id:e,el_name:o,el_size:{w:c,h:a},rotate:s}),d=document.createElement("div");E(p,d);const y=this.rootStore.rootGrid.makeWidget(d,{x:n,y:l,w:c,h:a,noResize:!0,id:e}),x={id:e,recipe:r,rotate:s,part:_,machineElement:y};this.rootStore.addMachine(x)}handleBluePrintUpload=t=>{if(t.status!=="ready")return;const e=t.raw;if(!e)return;const o=new FileReader;o.onload=()=>{const r=JSON.parse(o.result);this.importBluePrint(r)},o.readAsText(e)};async loadBlueprintByHashCode(t){if(t)try{const e=`${this.rootStore.host}/download/${t}.json`,o=await fetch(e);if(!o.ok)throw new Error(`无法获取蓝图: ${o.status}`);const r=await o.json();return this.rootStore.clearBlueprint(),this.importBluePrint(r),r}catch(e){throw console.error("加载蓝图出错：",e),e}}loadLocalBlueprint(){if(localStorage.blueprint){this.rootStore.clearBlueprint();try{const t=JSON.parse(localStorage.blueprint);return this.importBluePrint(t),t}catch(t){throw console.error("加载本地蓝图出错：",t),t}}return null}handleClickBelts(t){const e=this.rootStore.getPositionFromClick(t);this.rootStore.quickPlaceMode==="belt"&&(this.rootStore.isCellEmpty(t)||t.isBeltPort)&&this.generateBelt(e,"belt"),this.rootStore.quickPlaceMode==="pipe"&&this.rootStore.isCellEmptyPipe(t)&&this.generatePipe(e,"pipe")}}const $=new Ir;class jr{constructor(){this.rootStore=null,this.selectStore=null,this.singleBeltModes=["belts","select","default"],this.handleLeftClick=this.handleLeftClick.bind(this),this.handleRightClick=this.handleRightClick.bind(this)}init(){this.rootStore=w(),this.selectStore=M(),this.initDogToolbar(),this.initDogKeyboard(),this.initDogSelectSub(),this.initDogQuickPlace()}initDogToolbar(){k(()=>this.rootStore.toolbarMode,(t,e)=>{this.exitMode(e),this.enterMode(t)})}exitMode(t){switch(t){case"select":this.rootStore.rootGrid.setStatic(!1),this.rootStore.gridElCont.style.overflow="scroll",this.rootStore.selectSubMode=null,h.reset(),this.selectStore.disableSelect();break;case"belts":this.rootStore.lastBaseNode=null,this.rootStore.lastDir=null,b.handleEndBelt("belt"),b.handleEndBelt("pipe");break}}enterMode(t){switch(t){case"select":this.rootStore.rootGrid.setStatic(!0),this.rootStore.gridElCont.style.overflow="hidden",this.selectStore.enableSelect();break;case"belts":b.handleStartBelt(this.rootStore.quickPlaceMode);break}}isSingleBeltMode(t){return!this.singleBeltModes.includes(t)}handleLeftClick(t){const e=this.rootStore.toolbarMode;if(e=="belts"&&($.handleClickBelts(t),console.log("belts")),this.isSingleBeltMode(e)&&$.handleClickSingleBoP(t),this.rootStore.selectSubMode==="move"){const{biasX:o,biasY:r}=h.bias,{minX:s,maxX:n,minY:l,maxY:c}=h.selectRange;if(console.log("biasX",o,"biasY",r,"minX",s,"maxX",n,"minY",l,"maxY",c),!(s+o>=0&&n+o<=72&&l+r>=0&&c+r<=72)){z.error("移动超出边界，无法移动");return}if(!this.rootStore.batchMove({machineNodes:h.selectedConfigs,beltNodes:h.selectedBeltConfigs,pipeNodes:h.selectedPipeConfigs},h.bias))return;this.rootStore.toolbarMode="default"}}handleRightClick(t){t.preventDefault(),t.stopPropagation();const e=this.rootStore.quickPlaceMode,o=this.rootStore.getPositionFromClick(t);e==="belt"&&this.rootStore.deleteOneBelt(o),e==="pipe"&&this.rootStore.deleteOnePipe(o)}initDogQuickPlace(){k(()=>this.rootStore.quickPlaceMode,(t,e)=>{this.exitModeQuickPlace(e),this.enterModeQuickPlace(t)})}exitModeQuickPlace(t){switch(this.rootStore.lastBaseNode=null,this.rootStore.lastDir=null,t){case"belt":b.handleEndBelt("belt");break;case"pipe":b.handleEndBelt("pipe");break}}enterModeQuickPlace(t){switch(t){case"belt":b.handleStartBelt("belt");break;case"pipe":b.handleStartBelt("pipe");break}}initDogSelectSub(){k(()=>this.rootStore.selectSubMode,(t,e)=>{this.exitModeSelectSub(e),this.enterModeSelectSub(t)})}exitModeSelectSub(t){switch(t){case"move":h.reset(),h.deactivateMouseMoveListener(),this.selectStore.enableSelect();break}}enterModeSelectSub(t){switch(t){case"move":h.activateMouseMoveListener(),this.selectStore.disableSelect();break}}initDogKeyboard(){k(()=>this.rootStore.keyboardCommand,t=>{if(t){switch(t){case"pipes-pipe":this.rootStore.toolbarMode="belts",this.rootStore.quickPlaceMode="pipe";break;case"belts-belt":this.rootStore.toolbarMode="belts",this.rootStore.quickPlaceMode="belt";break;case"enter-select":this.rootStore.toolbarMode="select",this.rootStore.quickPlaceMode="belt",this.rootStore.selectSubMode=null;break;case"select-fold":if(this.rootStore.toolbarMode!=="select")return;break;case"select-move":if(this.rootStore.toolbarMode!=="select")return;this.rootStore.selectSubMode="move";break;case"escape":this.rootStore.selectSubMode?this.rootStore.selectSubMode=null:this.rootStore.toolbarMode==="select"&&(this.rootStore.toolbarMode="default"),this.rootStore.toolbarMode==="belts"&&(this.rootStore.toolbarMode="default");break}this.rootStore.keyboardCommand=null}})}}const Wr=new jr;class Tr{constructor(){this.isDragging=!1,this.startX=0,this.startY=0,this.startScrollLeft=0,this.startScrollTop=0,this.gridElCont=null,this.handleMousedown=this.handleMousedown.bind(this),this.handleMousemove=this.handleMousemove.bind(this),this.handleMouseup=this.handleMouseup.bind(this)}init(t){t&&(this.gridElCont=t,this.gridElCont.addEventListener("mousedown",this.handleMousedown),document.addEventListener("mousemove",this.handleMousemove),document.addEventListener("mouseup",this.handleMouseup))}getToolbarMode(){return w().toolbarMode}handleMousedown(t){t.button===2&&this.getToolbarMode()==="default"&&(t.preventDefault(),this.isDragging=!0,this.startX=t.clientX,this.startY=t.clientY,this.startScrollLeft=this.gridElCont.scrollLeft,this.startScrollTop=this.gridElCont.scrollTop,this.gridElCont.style.cursor="grabbing")}handleMousemove(t){if(!this.isDragging)return;const e=t.clientX-this.startX,o=t.clientY-this.startY;this.gridElCont.scrollLeft=this.startScrollLeft-e,this.gridElCont.scrollTop=this.startScrollTop-o}handleMouseup(){this.isDragging=!1,this.gridElCont&&(this.gridElCont.style.cursor="")}destroy(){this.gridElCont&&this.gridElCont.removeEventListener("mousedown",this.handleMousedown),document.removeEventListener("mousemove",this.handleMousemove),document.removeEventListener("mouseup",this.handleMouseup),this.gridElCont=null,this.isDragging=!1}}const Jr=new Tr;export{b as B,Wr as C,zr as I,Fr as M,Vr as R,h as S,vr as a,Nr as b,$ as c,Jr as d,Lr as e,Hr as f,Ur as g,Gr as i,Qr as k,Mr as m,Kr as t};
